(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[177],{9271:(e,r,t)=>{Promise.resolve().then(t.t.bind(t,2527,23)),Promise.resolve().then(t.bind(t,8163)),Promise.resolve().then(t.bind(t,7013)),Promise.resolve().then(t.bind(t,8232)),Promise.resolve().then(t.bind(t,1455)),Promise.resolve().then(t.t.bind(t,7231,23)),Promise.resolve().then(t.t.bind(t,2175,23))},3932:(e,r,t)=>{"use strict";t.d(r,{A:()=>s});let a=t(2651).A.create({baseURL:"https://assetly-landing-page-backend.onrender.com",headers:{"Content-Type":"application/json"}});a.interceptors.request.use(e=>{{let r=localStorage.getItem("token");r&&(e.headers.Authorization="Bearer ".concat(r))}return e},e=>Promise.reject(e));let s=a},8163:(e,r,t)=>{"use strict";t.d(r,{default:()=>u});var a=t(5155),s=t(8173),o=t.n(s),l=t(4821),n=t(2115),i=t(1455),c=t(2472);let d=(0,t(4057).A)("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);function u(){let{user:e}=(0,n.useContext)(i.R);return(0,a.jsx)("header",{className:"z-30 w-full mt-2 md:mt-5",children:(0,a.jsx)("div",{className:"max-w-6xl px-4 mx-auto sm:px-6",children:(0,a.jsxs)("div",{className:"relative flex h-14 items-center justify-between gap-3 rounded-2xl bg-gray-900/90 px-3 before:pointer-events-none before:absolute before:inset-0 before:rounded-[inherit] before:border before:border-transparent  before:[background:linear-gradient(to_right,theme(colors.gray.800),theme(colors.gray.700),theme(colors.gray.800))_border-box]  before:[mask-composite:exclude_!important] before:[mask:linear-gradient(white_0_0)_padding-box,_linear-gradient(white_0_0)]  after:absolute after:inset-0 after:-z-10 after:backdrop-blur-sm",children:[(0,a.jsx)("div",{className:"flex items-center flex-1",children:(0,a.jsx)(l.A,{})}),(0,a.jsx)("ul",{className:"flex items-center justify-end flex-1 gap-3",children:e?(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("li",{className:"flex items-center justify-center w-8 h-8 text-gray-200 transition-transform duration-300 ease-in-out border rounded-full border-gray-700/50 bg-gray-800/65 hover:scale-110",children:(0,a.jsx)(o(),{href:"/profile",className:"text-gray-300 hover:text-white",children:(0,a.jsx)(c.A,{size:24})})}),e.isAdmin&&(0,a.jsx)("li",{className:"flex items-center justify-center w-8 h-8 text-gray-200 transition-transform duration-300 ease-in-out border rounded-full border-gray-700/50 bg-gray-800/65 hover:scale-110",children:(0,a.jsx)(o(),{href:"/administracion",className:"text-gray-300 hover:text-white",children:(0,a.jsx)(d,{size:24})})})]}):(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("li",{children:(0,a.jsx)(o(),{href:"/signin",className:"btn-sm relative bg-gradient-to-b from-gray-800 to-gray-800/60 bg-[length:100%_100%] bg-[bottom] py-[5px] text-gray-300 before:pointer-events-none before:absolute before:inset-0 before:rounded-[inherit] before:border before:border-transparent before:[background:linear-gradient(to_right,theme(colors.gray.800),theme(colors.gray.700),theme(colors.gray.800))_border-box] before:[mask-composite:exclude_!important] before:[mask:linear-gradient(white_0_0)_padding-box,_linear-gradient(white_0_0)] hover:bg-[length:100%_150%]",children:"Sign In"})}),(0,a.jsx)("li",{children:(0,a.jsx)(o(),{href:"/signup",className:"btn-sm bg-gradient-to-t from-indigo-600 to-indigo-500 bg-[length:100%_100%] bg-[bottom] py-[5px] text-white shadow-[inset_0px_1px_0px_0px_theme(colors.white/.16)] hover:bg-[length:100%_150%]",children:"Register"})})]})})]})})})}},4821:(e,r,t)=>{"use strict";t.d(r,{A:()=>i});var a=t(5155),s=t(8173),o=t.n(s),l=t(5565);let n={src:"/_next/static/media/logo.1b599a6f.svg",height:32,width:32,blurWidth:0,blurHeight:0};function i(){return(0,a.jsx)(o(),{href:"/",className:"inline-flex shrink-0","aria-label":"Cruip",children:(0,a.jsx)(l.default,{src:n,alt:"Cruip Logo",width:32,height:32})})}},7013:(e,r,t)=>{"use strict";t.d(r,{AdminProvider:()=>i,t:()=>n});var a=t(5155),s=t(2115),o=t(3932),l=t(2155);let n=(0,s.createContext)({getUsers:async()=>{throw Error("Not implemented")},getUsersSubscribed:async()=>{throw Error("Not implemented")},getUsersSubscribedAt:async e=>{throw Error("Not implemented")}}),i=e=>{let{children:r}=e,t=async()=>{let e=localStorage.getItem("admin_users");if(e)return console.log("Cargando usuarios desde localStorage..."),JSON.parse(e);let{data:r,error:t}=await (0,l.$)(o.A.get("/users/users"));if(t||!r||!r.data)throw Error("Error fetching users");return localStorage.setItem("admin_users",JSON.stringify(r.data)),r.data},s=async()=>{let e=localStorage.getItem("admin_usersSubscribed");if(e)return console.log("Cargando usuarios suscritos desde localStorage..."),JSON.parse(e);let{data:r,error:t}=await (0,l.$)(o.A.get("/users/getUsersSubscribed"));if(t||!r||!r.data)throw Error("Error fetching subscribed users");return localStorage.setItem("admin_usersSubscribed",JSON.stringify(r.data)),r.data},i=async e=>{let r="admin_usersSubscribed_plan_".concat(e),t=localStorage.getItem(r);if(t)return console.log("Cargando usuarios suscritos al plan ".concat(e," desde localStorage...")),JSON.parse(t);let{data:a,error:s}=await (0,l.$)(o.A.get("/users/getUsersSubscribed/".concat(e)));if(s||!a||!a.data)throw Error("Error fetching subscribed users at plan");return localStorage.setItem(r,JSON.stringify(a.data)),a.data};return(0,a.jsx)(n.Provider,{value:{getUsers:t,getUsersSubscribed:s,getUsersSubscribedAt:i},children:r})}},8232:(e,r,t)=>{"use strict";t.d(r,{SuscribeProvider:()=>c,a:()=>i});var a=t(5155),s=t(2115),o=t(3932),l=t(2155),n=t(1455);let i=(0,s.createContext)({sub:null,planes:[],suscribirse:()=>{},desuscribirse:()=>{},selectPlan:async()=>null,viewPlan:null,changePlan:()=>{}}),c=e=>{let{children:r}=e,{user:t}=(0,s.useContext)(n.R),[c,d]=(0,s.useState)(null),[u,g]=(0,s.useState)([]),[m,f]=(0,s.useState)(null),h=async e=>{let{data:r,error:a}=await (0,l.$)(o.A.get("users/suscribe/".concat(null==t?void 0:t.id,"/").concat(e)));if(a||!r||!r.data){console.error("Error suscribi\xe9ndose:",a||"No data returned");return}d(r.data),localStorage.setItem("subscripcion",JSON.stringify(r.data))},b=async()=>{let{data:e,error:r}=await (0,l.$)(o.A.get("/users/desuscribe/".concat(null==t?void 0:t.id)));if(r||!e||!e.data){console.error("Error al desuscribirse:",r||"No data returned");return}d(null),localStorage.removeItem("subscripcion")},p=async()=>{let e=localStorage.getItem("planes");if(e){g(JSON.parse(e)),console.log("Planes Cargados");return}let{data:r,error:t}=await (0,l.$)(o.A.get("/users/planes"));if(t||!r||!r.data){console.error("Error al obtener los datos del plan:",t||"No data returned");return}let a=r.data;g(a),localStorage.setItem("planes",JSON.stringify(a))},y=async e=>{0===u.length&&await p();let r=u.find(r=>r.id===e);return r?(f(r),localStorage.setItem("viewPlan",JSON.stringify(r)),r):(console.error("Plan no encontrado"),null)};return(0,s.useEffect)(()=>{let e=localStorage.getItem("subscripcion");e&&d(JSON.parse(e)),p()},[t]),(0,s.useEffect)(()=>{if(u.length>0&&null===m){let e=localStorage.getItem("viewPlan");if(e)f(JSON.parse(e));else{let e=u.find(e=>!0===e.popular);e?f(e):f(u[0])}}},[u,m]),(0,a.jsx)(i.Provider,{value:{sub:c,planes:u,suscribirse:h,desuscribirse:b,selectPlan:y,viewPlan:m,changePlan:e=>{if(!m||0===u.length)return;let r=u.findIndex(e=>e.id===m.id);if(-1===r)return;let t="next"===e?r+1:r-1;t<0&&(t=u.length-1),t>=u.length&&(t=0);let a=u[t];f(a),localStorage.setItem("viewPlan",JSON.stringify(a))}},children:r})}},1455:(e,r,t)=>{"use strict";t.d(r,{R:()=>n,UserProvider:()=>i});var a=t(5155),s=t(2115),o=t(3932),l=t(2155);let n=(0,s.createContext)({token:"",user:null,signIn:async()=>{throw Error("Not implemented")},signUp:async()=>{throw Error("Not implemented")},deleteUser:async()=>{throw Error("Not implemented")},mailIsValid:async()=>{throw Error("Not implemented")},setUser:()=>{},updateUser:async()=>{throw Error("Not implemented")}}),i=e=>{let{children:r}=e,[t,i]=(0,s.useState)(null),[c,d]=(0,s.useState)("");(0,s.useEffect)(()=>{let e=localStorage.getItem("token"),r=localStorage.getItem("user");if(e&&d(e),r)try{i(JSON.parse(r))}catch(e){console.error("Error al parsear el usuario del localStorage",e)}},[]);let u=async e=>{console.log(e);let{data:r,error:t}=await (0,l.$)(o.A.post("/users/singIn",e));if(t||!r||!r.data)throw Error("No se recibi\xf3 respuesta de la API");let{User:a,token:s}=r.data;return d(s),i(a),localStorage.setItem("token",s),localStorage.setItem("user",JSON.stringify(a)),a},g=async e=>{let{data:r,error:t}=await (0,l.$)(o.A.post("/users/singUp",e));if(t||!r||!r.data)throw Error("No se recibi\xf3 respuesta de la API");let{User:a,token:s}=r.data;return d(s),i(a),localStorage.setItem("token",s),localStorage.setItem("user",JSON.stringify(a)),a},m=async e=>{let{data:r,error:t}=await (0,l.$)(o.A.delete("/users/user",{data:e}));if(t||!r||!r.data)throw Error("No se recibi\xf3 respuesta de la API");let a=r.data;return d(""),i(null),localStorage.removeItem("token"),localStorage.removeItem("user"),a},f=async e=>{try{let r=await o.A.get("/users/email/".concat(e));if(r.data||null===r.data||void 0===r.data)return!1;return r.data}catch(e){return!1}},h=async e=>{if(!(null==t?void 0:t.id))throw Error("El usuario no est\xe1 autenticado.");let{data:r,error:a}=await (0,l.$)(o.A.post("/users/update",{...e,id:t.id}));if(a||!r||!r.data)throw Error("No se recibi\xf3 respuesta de la API");let{User:s,token:n}=r.data;return d(n),i(s),localStorage.setItem("token",n),localStorage.setItem("user",JSON.stringify(s)),s};return(0,a.jsx)(n.Provider,{value:{token:c,user:t,setUser:i,signIn:u,signUp:g,deleteUser:m,mailIsValid:f,updateUser:h},children:r})}},5565:(e,r,t)=>{"use strict";t.d(r,{default:()=>s.a});var a=t(4146),s=t.n(a)},4146:(e,r,t)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),function(e,r){for(var t in r)Object.defineProperty(e,t,{enumerable:!0,get:r[t]})}(r,{default:function(){return i},getImageProps:function(){return n}});let a=t(306),s=t(666),o=t(7970),l=a._(t(5514));function n(e){let{props:r}=(0,s.getImgProps)(e,{defaultLoader:l.default,imgConf:{deviceSizes:[640,750,828,1080,1200,1920,2048,3840],imageSizes:[16,32,48,64,96,128,256,384],path:"/_next/image",loader:"default",dangerouslyAllowSVG:!1,unoptimized:!1}});for(let[e,t]of Object.entries(r))void 0===t&&delete r[e];return{props:r}}let i=o.Image},2155:(e,r,t)=>{"use strict";t.d(r,{$:()=>a});let a=async e=>{try{return{data:await e,error:null}}catch(e){return console.error(e),{data:null,error:e}}}},2527:()=>{},7231:e=>{e.exports={style:{fontFamily:"'Inter', 'Inter Fallback'",fontStyle:"normal"},className:"__className_d65c78",variable:"__variable_d65c78"}},2175:e=>{e.exports={style:{fontFamily:"'nacelle', 'nacelle Fallback'"},className:"__className_f04781",variable:"__variable_f04781"}},4057:(e,r,t)=>{"use strict";t.d(r,{A:()=>i});var a=t(2115);let s=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),o=function(){for(var e=arguments.length,r=Array(e),t=0;t<e;t++)r[t]=arguments[t];return r.filter((e,r,t)=>!!e&&""!==e.trim()&&t.indexOf(e)===r).join(" ").trim()};var l={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};let n=(0,a.forwardRef)((e,r)=>{let{color:t="currentColor",size:s=24,strokeWidth:n=2,absoluteStrokeWidth:i,className:c="",children:d,iconNode:u,...g}=e;return(0,a.createElement)("svg",{ref:r,...l,width:s,height:s,stroke:t,strokeWidth:i?24*Number(n)/Number(s):n,className:o("lucide",c),...g},[...u.map(e=>{let[r,t]=e;return(0,a.createElement)(r,t)}),...Array.isArray(d)?d:[d]])}),i=(e,r)=>{let t=(0,a.forwardRef)((t,l)=>{let{className:i,...c}=t;return(0,a.createElement)(n,{ref:l,iconNode:r,className:o("lucide-".concat(s(e)),i),...c})});return t.displayName="".concat(e),t}},2472:(e,r,t)=>{"use strict";t.d(r,{A:()=>a});let a=(0,t(4057).A)("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]])}},e=>{var r=r=>e(e.s=r);e.O(0,[465,651,173,970,441,517,358],()=>r(9271)),_N_E=e.O()}]);