"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[2546],{2546:(e,r,t)=>{t.r(r),t.d(r,{default:()=>p});var a=t(5155),s=t(2115),o=t(6046),l=t(8173),n=t.n(l),i=t(1455),c=t(5548),d=t(2783),m=t(7752),u=t(632),g=t(3261),h=t(1680),x=t(5037);function p(){let e;let{signUp:r,mailIsValid:t,signUpWithGoogle:l,user:m,isLoading:u}=(0,s.useContext)(i.Rs),g=(0,o.useRouter)(),[h,p]=(0,s.useState)({username:"",company:"",email:"",telefono:"",password:"",confirmPassword:""}),[j,v]=(0,s.useState)({username:"",company:"",phoneError:!1,passwordError:!1,lengthError:!1,emailError:"",complexityError:!1}),[E,N]=(0,s.useState)(!1),[k,C]=(0,s.useState)(!1),[A,S]=(0,s.useState)(!1),[P,I]=(0,s.useState)(!1),[R,_]=(0,s.useState)(!1),[q,$]=(0,s.useState)(1);(0,s.useEffect)(()=>{m&&!k&&g.push("/")},[m,g,k]);let U=(0,s.useCallback)(e=>{let r=/[a-z]/.test(e);return[r,/[A-Z]/.test(e),/\d/.test(e),/[!@#$%^&*(),.?":{}|<>]/.test(e)]?.filter(Boolean).length>=3},[]),z=e=>{let{name:r,value:t}=e.target;R||_(!0),p(e=>({...e,[r]:t})),v(e=>({...e,[r]:""})),"telefono"===r&&O(t)},O=e=>{if(!e){v(e=>({...e,phoneError:!1}));return}let r=e.replace(/\s+/g,"");r.startsWith("+")||(r="+"+r);let t=/^\+(?:[0-9] ?){6,14}[0-9]$/;v(e=>({...e,phoneError:!t.test(r)}))},G=e=>{let{name:r,value:t}=e.target;R||_(!0),p(e=>({...e,[r]:t}));let a="password"===r,s=a?t:h.password,o=a?h.confirmPassword:t,l=s.length<8,n=s!==o&&""!==o,i=!U(s);v(e=>({...e,passwordError:n,lengthError:l,complexityError:i}))},F=async r=>{let a=r.target.value;if(R||_(!0),p(e=>({...e,email:a})),v(e=>({...e,emailError:""})),!/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(a)){v(e=>({...e,emailError:a?"Formato de correo inv\xe1lido":""}));return}clearTimeout(e),e=setTimeout(async()=>{try{let e=await t(a);v(r=>({...r,emailError:e?"Este correo ya est\xe1 registrado":""}))}catch(e){console.error("Error checking email:",e)}},500)},L=()=>{let e=""!==h.username.trim()&&""!==h.company.trim()&&""!==h.email.trim()&&!j.emailError&&""!==h.telefono.trim()&&!j.phoneError,r=h.password.length>=8&&!j.complexityError&&h.password===h.confirmPassword;return 1===q?e:r},M=()=>{let e={...j};if(""===h.username.trim()&&(e.username="El nombre de usuario es requerido"),""===h.company.trim()&&(e.company="El nombre de la compa\xf1\xeda es requerido"),""===h.email.trim()?e.emailError="El correo electr\xf3nico es requerido":/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(h.email)||(e.emailError="Formato de correo inv\xe1lido"),O(h.telefono),h.password){let r=h.password.length<8,t=h.password!==h.confirmPassword&&""!==h.confirmPassword,a=!U(h.password);e.lengthError=r,e.passwordError=t,e.complexityError=a}v(e)},W=async e=>{if(e.preventDefault(),!L()){M(),x.oR.error("Por favor complete todos los campos correctamente");return}try{N(!0),await r(h)?(C(!0),x.oR.success("Registro exitoso! Verifique su correo electr\xf3nico.")):x.oR.error("Hubo un problema al crear su cuenta. Int\xe9ntelo de nuevo.")}catch(e){console.error("Error en la solicitud:",e),x.oR.error("Error al registrar usuario. Int\xe9ntelo m\xe1s tarde.")}finally{N(!1)}},H=async()=>{try{N(!0),await l()}catch(e){console.error("Error al registrarse con Google",e),x.oR.error("Error al registrarse con Google")}finally{N(!1)}};return k?(0,a.jsx)("section",{children:(0,a.jsx)("div",{className:"max-w-6xl px-4 mx-auto sm:px-6",children:(0,a.jsxs)("div",{className:"py-12 md:py-20",children:[(0,a.jsx)("div",{className:"pb-12 text-center",children:(0,a.jsx)("h1",{className:"animate-[gradient_6s_linear_infinite] bg-[linear-gradient(to_right,theme(colors.gray.200),theme(colors.indigo.200),theme(colors.gray.50),theme(colors.indigo.300),theme(colors.gray.200))] bg-[length:200%_auto] bg-clip-text font-nacelle text-3xl font-semibold text-transparent md:text-4xl",children:"\xa1Registro Exitoso!"})}),(0,a.jsxs)("div",{className:"flex flex-col items-center justify-center mx-auto max-w-[500px] text-center",children:[(0,a.jsx)("div",{className:"flex items-center justify-center w-20 h-20 mb-6 rounded-full bg-indigo-500/20",children:(0,a.jsx)(c.A,{className:"w-10 h-10 text-indigo-500"})}),(0,a.jsx)("h2",{className:"mb-4 text-xl font-semibold text-indigo-200",children:"Verifica tu correo electr\xf3nico"}),(0,a.jsxs)("p",{className:"mb-6 text-indigo-200/65",children:["Hemos enviado un correo de verificaci\xf3n a"," ",(0,a.jsx)("strong",{className:"text-indigo-400",children:h.email}),". Por favor, revisa tu bandeja de entrada y haz clic en el enlace de verificaci\xf3n para activar tu cuenta."]}),(0,a.jsx)("p",{className:"mb-10 text-sm text-indigo-200/65",children:"Si no encuentras el correo, verifica tu carpeta de spam o solicita un nuevo correo de verificaci\xf3n."}),(0,a.jsxs)("div",{className:"flex gap-4",children:[(0,a.jsx)("button",{onClick:()=>C(!1),className:"text-indigo-300 btn bg-indigo-500/20 hover:bg-indigo-500/30",children:"Volver al registro"}),(0,a.jsx)(n(),{href:"/signin",className:"btn bg-gradient-to-t from-indigo-600 to-indigo-500 text-white hover:bg-[length:100%_150%]",children:"Ir a Iniciar Sesi\xf3n"})]})]})]})})}):(0,a.jsx)("section",{children:(0,a.jsx)("div",{className:"max-w-6xl px-4 mx-auto sm:px-6",children:(0,a.jsxs)("div",{className:"py-12 md:py-20",children:[(0,a.jsxs)("div",{className:"pb-8 text-center",children:[(0,a.jsx)("h1",{className:"animate-[gradient_6s_linear_infinite] bg-[linear-gradient(to_right,theme(colors.gray.200),theme(colors.indigo.200),theme(colors.gray.50),theme(colors.indigo.300),theme(colors.gray.200))] bg-[length:200%_auto] bg-clip-text font-nacelle text-3xl font-semibold text-transparent md:text-4xl",children:"Crea tu usuario"}),(0,a.jsx)("p",{className:"mt-2 text-indigo-200/65",children:1===q?"Informaci\xf3n b\xe1sica de la cuenta":"Establece tu contrase\xf1a"}),(0,a.jsxs)("div",{className:"flex items-center justify-center gap-2 mt-6",children:[(0,a.jsx)("div",{className:"w-3 h-3 rounded-full ".concat(1===q?"bg-indigo-500":"bg-indigo-200")}),(0,a.jsx)("div",{className:"w-3 h-3 rounded-full ".concat(2===q?"bg-indigo-500":"bg-indigo-200")})]})]}),(0,a.jsxs)("div",{className:"w-full max-w-md mx-auto",children:[1===q?(0,a.jsxs)("form",{onSubmit:e=>{e.preventDefault(),L()?$(2):(M(),x.oR.error("Por favor complete todos los campos correctamente"))},className:"space-y-5",children:[(0,a.jsx)(f,{id:"username",label:"Username",value:h.username,onChange:z,error:j.username,required:!0,icon:(0,a.jsx)("span",{className:"text-indigo-300/50",children:"@"})}),(0,a.jsx)(f,{id:"company",label:"Nombre de Compa\xf1\xeda",value:h.company,onChange:z,error:j.company,required:!0}),(0,a.jsx)(f,{id:"email",label:"Work Email",value:h.email,onChange:F,error:j.emailError,required:!0,type:"email",icon:(0,a.jsx)(c.A,{className:"w-4 h-4 text-indigo-300/50"})}),(0,a.jsx)(f,{id:"telefono",label:"N\xfamero Telef\xf3nico",value:h.telefono,onChange:z,error:j.phoneError?"Formato inv\xe1lido. Ej: +54 9 11 1234-5678":"",required:!0,placeholder:"+54 9 11 1234-5678"}),(0,a.jsxs)("div",{className:"flex justify-between gap-4 mt-8",children:[(0,a.jsxs)("button",{type:"button",onClick:H,disabled:E||u,className:"flex items-center justify-center w-full text-gray-300 transition-all duration-200 btn bg-gradient-to-b from-gray-800 to-gray-800/60 disabled:opacity-50 disabled:cursor-not-allowed",children:[E||u?(0,a.jsx)(d.A,{className:"w-5 h-5 mr-2 animate-spin"}):(0,a.jsxs)("svg",{className:"w-5 h-5 mr-2",viewBox:"0 0 24 24",fill:"currentColor",children:[(0,a.jsx)("path",{d:"M22.56 12.25c0-.78-.07-1.53-.2-2.25H12v4.26h5.92c-.26 1.37-1.04 2.53-2.21 3.31v2.77h3.57c2.08-1.92 3.28-4.74 3.28-8.09z"}),(0,a.jsx)("path",{d:"M12 23c2.97 0 5.46-.98 7.28-2.66l-3.57-2.77c-.98.66-2.23 1.06-3.71 1.06-2.86 0-5.29-1.93-6.16-4.53H2.18v2.84C3.99 20.53 7.7 23 12 23z"}),(0,a.jsx)("path",{d:"M5.84 14.09c-.22-.66-.35-1.36-.35-2.09s.13-1.43.35-2.09V7.07H2.18C1.43 8.55 1 10.22 1 12s.43 3.45 1.18 4.93l2.85-2.22.81-.62z"}),(0,a.jsx)("path",{d:"M12 5.38c1.62 0 3.06.56 4.21 1.64l3.15-3.15C17.45 2.09 14.97 1 12 1 7.7 1 3.99 3.47 2.18 7.07l3.66 2.84c.87-2.6 3.3-4.53 6.16-4.53z"})]}),"Registrarse con Google"]}),(0,a.jsx)("button",{type:"submit",className:"w-full btn bg-gradient-to-t from-indigo-600 to-indigo-500 text-white hover:bg-[length:100%_150%]",disabled:E||u,children:E||u?(0,a.jsx)(d.A,{className:"animate-spin"}):"Continuar"})]})]}):(0,a.jsxs)("form",{onSubmit:W,className:"space-y-5",children:[(0,a.jsxs)("div",{className:"space-y-5",children:[(0,a.jsx)(w,{password:h.password,showPassword:A,toggleShowPassword:()=>S(!A),onChange:G,lengthError:j.lengthError,complexityError:j.complexityError}),(0,a.jsx)(y,{confirmPassword:h.confirmPassword,showPassword:P,toggleShowPassword:()=>I(!P),onChange:G,passwordError:j.passwordError}),(0,a.jsxs)("div",{className:"p-4 mt-2 rounded-lg bg-indigo-900/30",children:[(0,a.jsx)("h4",{className:"mb-2 text-sm font-medium text-indigo-200",children:"Requisitos de contrase\xf1a:"}),(0,a.jsxs)("ul",{className:"space-y-1 text-xs text-indigo-200/65",children:[(0,a.jsx)(b,{met:h.password.length>=8,text:"M\xednimo 8 caracteres"}),(0,a.jsx)(b,{met:/[A-Z]/.test(h.password),text:"Al menos una letra may\xfascula"}),(0,a.jsx)(b,{met:/[a-z]/.test(h.password),text:"Al menos una letra min\xfascula"}),(0,a.jsx)(b,{met:/\d/.test(h.password),text:"Al menos un n\xfamero"}),(0,a.jsx)(b,{met:/[!@#$%^&*(),.?":{}|<>]/.test(h.password),text:"Al menos un caracter especial (!@#$%...)"}),(0,a.jsx)("li",{className:"mt-1 text-indigo-300",children:(0,a.jsx)("small",{children:"Se requieren al menos 3 de 5 criterios"})})]})]})]}),(0,a.jsxs)("div",{className:"flex items-center gap-4 mt-8",children:[(0,a.jsx)("button",{type:"button",onClick:()=>{$(1)},className:"flex-1 text-indigo-300 btn bg-indigo-500/20 hover:bg-indigo-500/30",disabled:E||u,children:"Atr\xe1s"}),(0,a.jsx)("button",{type:"submit",className:"flex-1 btn bg-gradient-to-t from-indigo-600 to-indigo-500 text-white hover:bg-[length:100%_150%]",disabled:E||u||j.passwordError||j.lengthError||j.complexityError,children:E||u?(0,a.jsx)(d.A,{className:"animate-spin"}):"Completar Registro"})]})]}),(0,a.jsxs)("div",{className:"mt-6 text-sm text-center text-indigo-200/65",children:["\xbfYa posee una cuenta?"," ",(0,a.jsx)(n(),{className:"font-medium text-indigo-500",href:"/signin",children:"Iniciar sesi\xf3n"})]})]})]})})})}let f=e=>{let{id:r,label:t,value:s,onChange:o,error:l,required:n,type:i="text",placeholder:c,icon:d}=e;return(0,a.jsxs)("div",{children:[(0,a.jsxs)("label",{htmlFor:r,className:"block mb-1 text-sm font-medium text-indigo-200/65",children:[t," ",n&&(0,a.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,a.jsxs)("div",{className:"relative",children:[d&&(0,a.jsx)("div",{className:"absolute inset-y-0 left-0 flex items-center pl-3 pointer-events-none",children:d}),(0,a.jsx)("input",{id:r,name:r,type:i,className:"w-full form-input ".concat(d?"pl-10":""," ").concat(l?"border-red-500 focus:ring-red-500":"focus:ring-indigo-500"),placeholder:c||"Ingrese su ".concat(t),value:s,onChange:o,required:n})]}),l&&(0,a.jsx)(j,{children:l})]})},w=e=>{let{password:r,showPassword:t,toggleShowPassword:s,onChange:o,lengthError:l,complexityError:n}=e;return(0,a.jsxs)("div",{children:[(0,a.jsxs)("label",{htmlFor:"password",className:"block mb-1 text-sm font-medium text-indigo-200/65",children:["Contrase\xf1a ",(0,a.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,a.jsxs)("div",{className:"relative",children:[(0,a.jsx)("input",{id:"password",name:"password",type:t?"text":"password",className:"w-full pr-10 form-input ".concat(l||n?"border-red-500 focus:ring-red-500":"focus:ring-indigo-500"),placeholder:"Establezca una contrase\xf1a segura",value:r,onChange:o,required:!0}),(0,a.jsx)("button",{type:"button",className:"absolute inset-y-0 right-0 flex items-center px-3 text-indigo-300",onClick:s,children:t?(0,a.jsx)(m.A,{className:"w-4 h-4"}):(0,a.jsx)(u.A,{className:"w-4 h-4"})})]}),l&&(0,a.jsx)(j,{children:"La contrase\xf1a debe tener al menos 8 caracteres"}),n&&!l&&(0,a.jsx)(j,{children:"La contrase\xf1a no cumple con los requisitos m\xednimos de seguridad"})]})},y=e=>{let{confirmPassword:r,showPassword:t,toggleShowPassword:s,onChange:o,passwordError:l}=e;return(0,a.jsxs)("div",{children:[(0,a.jsxs)("label",{htmlFor:"confirmPassword",className:"block mb-1 text-sm font-medium text-indigo-200/65",children:["Confirmar contrase\xf1a ",(0,a.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,a.jsxs)("div",{className:"relative",children:[(0,a.jsx)("input",{id:"confirmPassword",name:"confirmPassword",type:t?"text":"password",className:"w-full pr-10 form-input ".concat(l?"border-red-500 focus:ring-red-500":"focus:ring-indigo-500"),placeholder:"Repita la contrase\xf1a",value:r,onChange:o,required:!0}),(0,a.jsx)("button",{type:"button",className:"absolute inset-y-0 right-0 flex items-center px-3 text-indigo-300",onClick:s,children:t?(0,a.jsx)(m.A,{className:"w-4 h-4"}):(0,a.jsx)(u.A,{className:"w-4 h-4"})})]}),l&&(0,a.jsx)(j,{children:"Las contrase\xf1as no coinciden"})]})},b=e=>{let{met:r,text:t}=e;return(0,a.jsxs)("li",{className:"flex items-center gap-2",children:[r?(0,a.jsx)(g.A,{className:"w-3 h-3 text-green-500"}):(0,a.jsx)(h.A,{className:"w-3 h-3 text-amber-500"}),(0,a.jsx)("span",{className:r?"text-indigo-200":"text-indigo-200/50",children:t})]})},j=e=>{let{children:r}=e;return(0,a.jsx)("span",{className:"mt-1 text-xs text-red-500",children:r})}},1455:(e,r,t)=>{t.d(r,{Ay:()=>m,Rs:()=>c,vu:()=>d});var a=t(5155),s=t(2115),o=t(2793),l=t(2155),n=t(2615),i=t(9208);let c=(0,s.createContext)({token:"",user:null,signInO:async()=>{throw Error("Not implemented")},signUp:async()=>{throw Error("Not implemented")},deleteUser:async()=>{throw Error("Not implemented")},mailIsValid:async()=>{throw Error("Not implemented")},updateUser:async()=>{throw Error("Not implemented")},signOut:async()=>{throw Error("Not implemented")},signInWithGoogle:async()=>{throw Error("Not implemented")},signUpWithGoogle:async()=>{throw Error("Not implemented")},requestResetPassword:async()=>{throw Error("Not implemented")},resetPassword:async()=>{throw Error("Not implemented")},verifyEmail:async()=>{throw Error("Not implemented")},initiatePasswordReset:async()=>{throw Error("Not implemented")},isLoading:!1}),d=e=>{let{children:r}=e,{data:t}=(0,n.useSession)(),[d,m]=(0,s.useState)(null),[u,g]=(0,s.useState)(""),[h,x]=(0,s.useState)(!1);(0,s.useEffect)(()=>{(async()=>{if(t&&t.user&&!d)try{x(!0);let{email:e,name:r}=t.user;e&&r&&await w(e,r)}catch(e){console.error("Error al procesar la sesi\xf3n de Google:",e)}finally{x(!1)}})()},[t,d]),(0,s.useEffect)(()=>{let e=localStorage.getItem("token")||i.A.get("token"),r=localStorage.getItem("user")||i.A.get("user");if(e&&g(e),r)try{m(JSON.parse(r))}catch(e){console.error("Error al parsear el usuario del localStorage o cookie",e)}},[]);let p=(0,s.useCallback)((e,r)=>{localStorage.setItem("token",r),localStorage.setItem("user",JSON.stringify(e)),i.A.set("token",r,{expires:7}),i.A.set("user",JSON.stringify(e),{expires:7})},[]),f=(0,s.useCallback)(()=>{localStorage.removeItem("token"),localStorage.removeItem("user"),i.A.remove("token"),i.A.remove("user"),Object.keys(localStorage).forEach(e=>{e.startsWith("subscripcion_")&&localStorage.removeItem(e)})},[]),w=(0,s.useCallback)(async(e,r)=>{try{x(!0);let{data:t,error:a}=await (0,l.$)(o.A.get("users/email/get/".concat(e)));if(a)throw Error(a.message);if(null==t?void 0:t.data){let{data:r,error:t}=await (0,l.$)(o.A.get("/users/get/".concat(e)));if(t||!r)throw Error((null==t?void 0:t.message)||"Error al obtener usuario existente");return m(r.data.User),g(r.data.token),p(r.data.User,r.data.token),r.data.User}let{data:s,error:n}=await (0,l.$)(o.A.post("/users/crearUser/google",{email:e,name:r}));if(n||!s)throw Error((null==n?void 0:n.message)||"Error al crear usuario");return m(s.data),g(s.data.token),p(s.data,s.data.token),s.data}catch(e){throw console.error("Error en el proceso de registro:",e),e}finally{x(!1)}},[p]),y=(0,s.useCallback)(async e=>{try{x(!0);let{data:r,error:t}=await (0,l.$)(o.A.post("/users/signIn",e));if(t||!(null==r?void 0:r.data))throw Error((null==t?void 0:t.message)||"Error de inicio de sesi\xf3n");let{User:a,token:s}=r.data;return g(s),m(a),p(a,s),a}catch(e){return console.error("Error en signIn:",e),null}finally{x(!1)}},[p]),b=(0,s.useCallback)(async e=>{try{x(!0);let{data:r,error:t}=await (0,l.$)(o.A.post("/users/signUp",e));if(t||!(null==r?void 0:r.data))throw Error((null==t?void 0:t.message)||"Error de registro");let{user:a,token:s}=r.data;return g(s),m(a),p(a,s),a}catch(e){throw console.error("Error en signUp:",e),e}finally{x(!1)}},[p]),j=(0,s.useCallback)(async e=>{try{x(!0);let{data:r,error:t}=await (0,l.$)(o.A.delete("/users/user",{data:e}));if(t||!(null==r?void 0:r.data))throw Error((null==t?void 0:t.message)||"Error al eliminar usuario");let a=r.data;return g(""),m(null),f(),a}catch(e){throw console.error("Error al eliminar usuario:",e),e}finally{x(!1)}},[f]),v=(0,s.useCallback)(async e=>{try{return x(!0),(await o.A.get("/users/email/".concat(e))).data}catch(e){return!1}finally{x(!1)}},[]),E=(0,s.useCallback)(async e=>{if(!(null==d?void 0:d.id))throw Error("Usuario no autenticado");try{x(!0);let{data:r,error:t}=await (0,l.$)(o.A.put("/users/update/".concat(d.id),{...e}));if(t||!(null==r?void 0:r.data))throw Error((null==t?void 0:t.message)||"Error al actualizar usuario");let{user:a,token:s}=r.data;return a&&(m(a),p(a,s||u)),a}catch(e){throw console.error("Error al actualizar usuario:",e),e}finally{x(!1)}},[d,p,u]),N=(0,s.useCallback)(async()=>{try{x(!0),await (0,n.signOut)({redirect:!1}),g(""),m(null),f()}catch(e){console.error("Error durante el cierre de sesi\xf3n:",e)}finally{x(!1)}},[f]),k=(0,s.useCallback)(async()=>{try{return x(!0),await (0,n.signIn)("google",{callbackUrl:"/"}),null}catch(e){return console.error("Error en signInWithGoogle:",e),null}finally{x(!1)}},[]),C=(0,s.useCallback)(async()=>k(),[k]),A=(0,s.useCallback)(async e=>{try{x(!0);let{data:r,error:t}=await (0,l.$)(o.A.post("/users/verify-email",{token:e}));if(t||!(null==r?void 0:r.data))throw Error((null==t?void 0:t.message)||"Error al verificar email");if(d&&d.id===r.data.user.id){let e={...r.data.user};m(e),localStorage.setItem("user",JSON.stringify(e)),i.A.set("user",JSON.stringify(e),{expires:7})}return r.data}catch(e){throw console.error("Error al verificar email:",e),e}finally{x(!1)}},[d]),S=(0,s.useCallback)(async e=>{try{x(!0);let{data:r,error:t}=await (0,l.$)(o.A.get("/users/initiate-password-reset/".concat(e)));if(t||!(null==r?void 0:r.data))throw Error((null==t?void 0:t.message)||"Error al solicitar restablecimiento de contrase\xf1a");return r.data}catch(e){throw console.error("Error al iniciar restablecimiento de contrase\xf1a:",e),e}finally{x(!1)}},[]),P=(0,s.useCallback)(async(e,r)=>{try{x(!0);let{data:t,error:a}=await (0,l.$)(o.A.post("/users/reset-password",{token:e,newPassword:r}));if(a||!(null==t?void 0:t.data))throw Error((null==a?void 0:a.message)||"Error al restablecer contrase\xf1a");return t.data}catch(e){throw console.error("Error al restablecer contrase\xf1a:",e),e}finally{x(!1)}},[]),I=(0,s.useMemo)(()=>({token:u,user:d,signInO:y,signUp:b,deleteUser:j,mailIsValid:v,updateUser:E,signOut:N,signInWithGoogle:k,signUpWithGoogle:C,verifyEmail:A,initiatePasswordReset:S,resetPassword:P,requestResetPassword:S,isLoading:h}),[u,d,y,b,j,v,E,N,k,C,A,S,P,h]);return(0,a.jsx)(c.Provider,{value:I,children:r})},m=c},2793:(e,r,t)=>{t.d(r,{A:()=>s});let a=t(2651).A.create({baseURL:"http://localhost:3001",headers:{"Content-Type":"application/json"}});a.interceptors.request.use(e=>{{let r=localStorage.getItem("token");r&&(e.headers.Authorization="Bearer ".concat(r))}return e},e=>Promise.reject(e)),a.interceptors.response.use(e=>e,e=>Promise.reject(e));let s=a},2155:(e,r,t)=>{t.d(r,{$:()=>a});let a=async e=>{try{return{data:await e}}catch(e){return console.error("Error en handleAsync:",e),{error:e.response?e.response.data:{message:e.message}}}}}}]);