{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 7, "column": 0}, "map": {"version":3,"sources":["file://C%3A/Users/tomir/OneDrive/Desktop/AssetlyLandingPage/client/app/api/Api.ts"],"sourcesContent":["// utils/api.ts\nimport axios from \"axios\";\n\nconst prod = false;\nconst urlWeb = \"https://assetly-landing-page-backend.onrender.com/\";\nconst API_URL = prod ? urlWeb : \"http://localhost:3001\";\n\nconst api = axios.create({\n  baseURL: API_URL,\n  headers: {\n    \"Content-Type\": \"application/json\",\n  },\n});\n\napi.interceptors.request.use(\n  (config) => {\n    if (typeof window !== \"undefined\") {\n      const token = localStorage.getItem(\"token\");\n      if (token) {\n        config.headers.Authorization = `Bearer ${token}`;\n      }\n    }\n    return config;\n  },\n  (error) => Promise.reject(error)\n);\n\napi.interceptors.response.use(\n  (response) => response, // Devuelve la respuesta normalmente si es exitosa\n  (error) => {\n    // Asegura que los errores sigan siendo tratados como errores\n    return Promise.reject(error);\n  }\n);\n\nexport default api;\n"],"names":[],"mappings":"AAAA,eAAe;;;;AACf;;AAEA,MAAM,OAAO;AACb,MAAM,SAAS;AACf,MAAM,UAAU,6EAAgB;AAEhC,MAAM,MAAM,wIAAA,CAAA,UAAK,CAAC,MAAM,CAAC;IACvB,SAAS;IACT,SAAS;QACP,gBAAgB;IAClB;AACF;AAEA,IAAI,YAAY,CAAC,OAAO,CAAC,GAAG,CAC1B,CAAC;IACC,wCAAmC;QACjC,MAAM,QAAQ,aAAa,OAAO,CAAC;QACnC,IAAI,OAAO;YACT,OAAO,OAAO,CAAC,aAAa,GAAG,CAAC,OAAO,EAAE,OAAO;QAClD;IACF;IACA,OAAO;AACT,GACA,CAAC,QAAU,QAAQ,MAAM,CAAC;AAG5B,IAAI,YAAY,CAAC,QAAQ,CAAC,GAAG,CAC3B,CAAC,WAAa,UACd,CAAC;IACC,6DAA6D;IAC7D,OAAO,QAAQ,MAAM,CAAC;AACxB;uCAGa"}},
    {"offset": {"line": 39, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 45, "column": 0}, "map": {"version":3,"sources":["file://C%3A/Users/tomir/OneDrive/Desktop/AssetlyLandingPage/client/utils/error.helper.ts"],"sourcesContent":["import { AsyncResult } from \"@/interfaces/AsyncResul.interface\";\n\nexport const handleAsync = async <T>(\n  promise: Promise<T>\n): Promise<AsyncResult<T>> => {\n  try {\n    const response = await promise;\n    return { data: response };\n  } catch (error: any) {\n    console.error(\"Error en handleAsync:\", error);\n\n    return {\n      error: error.response ? error.response.data : { message: error.message },\n    };\n  }\n};\n"],"names":[],"mappings":";;;AAEO,MAAM,cAAc,OACzB;IAEA,IAAI;QACF,MAAM,WAAW,MAAM;QACvB,OAAO;YAAE,MAAM;QAAS;IAC1B,EAAE,OAAO,OAAY;QACnB,QAAQ,KAAK,CAAC,yBAAyB;QAEvC,OAAO;YACL,OAAO,MAAM,QAAQ,GAAG,MAAM,QAAQ,CAAC,IAAI,GAAG;gBAAE,SAAS,MAAM,OAAO;YAAC;QACzE;IACF;AACF"}},
    {"offset": {"line": 66, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 72, "column": 0}, "map": {"version":3,"sources":["file://C%3A/Users/tomir/OneDrive/Desktop/AssetlyLandingPage/client/context/user.context.tsx"],"sourcesContent":["\"use client\";\nimport React, {\n  createContext,\n  useEffect,\n  useState,\n  ReactNode,\n  useCallback,\n  useMemo,\n  useContext,\n} from \"react\";\nimport { IUser } from \"@/interfaces/User.interface\";\nimport api from \"@/app/api/Api\";\nimport { SignInDTO, SignUpDTO, updateUserDTO } from \"./DTO/sing.user.dto\";\nimport { handleAsync } from \"@/utils/error.helper\";\nimport {\n  signIn,\n  signOut as nextAuthSignOut,\n  useSession,\n  getSession,\n} from \"next-auth/react\";\nimport { IUserContextProps } from \"./DTO/IUserContextProps.interface\";\nimport Cookies from \"js-cookie\";\n\nconst defaultContext: IUserContextProps = {\n  token: \"\",\n  user: null,\n  signInO: async () => {\n    throw new Error(\"Not implemented\");\n  },\n  signUp: async () => {\n    throw new Error(\"Not implemented\");\n  },\n  deleteUser: async () => {\n    throw new Error(\"Not implemented\");\n  },\n  mailIsValid: async () => {\n    throw new Error(\"Not implemented\");\n  },\n  updateUser: async () => {\n    throw new Error(\"Not implemented\");\n  },\n  signOut: async () => {\n    throw new Error(\"Not implemented\");\n  },\n  signInWithGoogle: async () => {\n    throw new Error(\"Not implemented\");\n  },\n  signUpWithGoogle: async () => {\n    throw new Error(\"Not implemented\");\n  },\n  requestResetPassword: async () => {\n    throw new Error(\"Not implemented\");\n  },\n  resetPassword: async () => {\n    throw new Error(\"Not implemented\");\n  },\n};\n\nexport const UserContext = createContext<IUserContextProps>(defaultContext);\n\nexport const UserProvider: React.FC<{ children: ReactNode }> = ({\n  children,\n}) => {\n  const { data: session } = useSession();\n  const [user, setUserState] = useState<IUser | null>(null);\n  const [token, setToken] = useState<string>(\"\");\n\n  useEffect(() => {\n    const storedToken = localStorage.getItem(\"token\") || Cookies.get(\"token\");\n    const storedUser = localStorage.getItem(\"user\") || Cookies.get(\"user\");\n\n    if (storedToken) setToken(storedToken);\n    if (storedUser) {\n      try {\n        setUserState(JSON.parse(storedUser));\n      } catch (error) {\n        console.error(\n          \"Error al parsear el usuario del localStorage o cookie\",\n          error\n        );\n      }\n    }\n  }, []);\n\n  const registerUser = useCallback(\n    async (email: string, name: string): Promise<IUser | null> => {\n      try {\n        const { data: existsResponse, error: getError } = await handleAsync(\n          api.get(`users/email/get/${email}`)\n        );\n        if (getError) {\n          console.warn(\n            \"Error al consultar existencia del usuario:\",\n            getError.message\n          );\n          return null;\n        }\n\n        if (existsResponse?.data) {\n          const { data: fetchedResponse, error: fetchError } =\n            await handleAsync(api.get(`/users/get/${email}`));\n          if (fetchError || !fetchedResponse) {\n            console.log(\"Error al traer el usuario:\", fetchError?.message);\n            return null;\n          }\n          setUserState(fetchedResponse.data.User);\n          setToken(fetchedResponse.data.token);\n          localStorage.setItem(\"token\", fetchedResponse.data.token);\n          localStorage.setItem(\n            \"user\",\n            JSON.stringify(fetchedResponse.data.User)\n          );\n          Cookies.set(\"token\", fetchedResponse.data.token, { expires: 7 }); // Guarda en cookies\n          Cookies.set(\"user\", JSON.stringify(fetchedResponse.data.User), {\n            expires: 7,\n          });\n          return fetchedResponse.data.User;\n        }\n\n        const { data: createdResponse, error: postError } = await handleAsync(\n          api.post(\"/users/crearUser/google\", { email, name })\n        );\n        if (postError || !createdResponse) {\n          console.log(\"Error al crear el usuario:\", postError?.message);\n          return null;\n        }\n        setUserState(createdResponse.data);\n        localStorage.setItem(\"user\", JSON.stringify(createdResponse.data));\n        Cookies.set(\"user\", JSON.stringify(createdResponse.data), {\n          expires: 7,\n        });\n        return createdResponse.data;\n      } catch (error) {\n        console.error(\"Error en el proceso de registro:\", error);\n        return null;\n      }\n    },\n    []\n  );\n\n  const signInO = useCallback(\n    async (signInData: SignInDTO): Promise<IUser | null> => {\n      try {\n        const { data: response, error } = await handleAsync(\n          api.post(\"/users/signIn\", signInData)\n        );\n        if (error || !response?.data) {\n          throw new Error(error?.message || \"Error de inicio de sesión\");\n        }\n        const { User: returnedUser, token: returnedToken } = response.data;\n        setToken(returnedToken);\n        setUserState(returnedUser);\n        localStorage.setItem(\"token\", returnedToken);\n        localStorage.setItem(\"user\", JSON.stringify(returnedUser));\n        Cookies.set(\"token\", returnedToken, { expires: 7 });\n        Cookies.set(\"user\", JSON.stringify(returnedUser), { expires: 7 });\n        return returnedUser;\n      } catch (error) {\n        console.error(\"Error en signIn:\", error);\n        return null;\n      }\n    },\n    []\n  );\n\n  const signUp = useCallback(async (signUpData: SignUpDTO): Promise<IUser> => {\n    const { data: response, error } = await handleAsync(\n      api.post(\"/users/signUp\", signUpData)\n    );\n    if (error || !response?.data) {\n      throw new Error(error?.message || \"Error de registro\");\n    }\n    const { User: returnedUser, token: returnedToken } = response.data;\n    setToken(returnedToken);\n    setUserState(returnedUser);\n    localStorage.setItem(\"token\", returnedToken);\n    localStorage.setItem(\"user\", JSON.stringify(returnedUser));\n    Cookies.set(\"token\", returnedToken, { expires: 7 });\n    Cookies.set(\"user\", JSON.stringify(returnedUser), { expires: 7 });\n    return returnedUser;\n  }, []);\n\n  const deleteUser = useCallback(\n    async (signInData: SignInDTO): Promise<IUser> => {\n      const { data: response, error } = await handleAsync(\n        api.delete(\"/users/user\", { data: signInData })\n      );\n      if (error || !response?.data) {\n        throw new Error(error?.message || \"Error al eliminar usuario\");\n      }\n      const deletedUser = response.data;\n      setToken(\"\");\n      setUserState(null);\n      localStorage.removeItem(\"token\");\n      localStorage.removeItem(\"user\");\n      Cookies.remove(\"token\"); // Elimina las cookies\n      Cookies.remove(\"user\");\n      return deletedUser;\n    },\n    []\n  );\n\n  const mailIsValid = useCallback(async (email: string): Promise<boolean> => {\n    try {\n      const response = await api.get(`/users/email/${email}`);\n      return response.data;\n    } catch {\n      return false;\n    }\n  }, []);\n\n  const updateUser = useCallback(\n    async (updateUserData: updateUserDTO): Promise<IUser> => {\n      if (!user?.id) throw new Error(\"Usuario no autenticado\");\n      const { data: response, error } = await handleAsync(\n        api.put(`/users/update/${user.id}`, { ...updateUserData })\n      );\n      if (error || !response?.data) {\n        throw new Error(error?.message || \"Error al actualizar usuario\");\n      }\n      const { User: returnedUser, token: returnedToken } = response.data;\n      return returnedUser;\n    },\n    [user]\n  );\n\n  const signOut = useCallback(async (): Promise<void> => {\n    try {\n      await nextAuthSignOut({ redirect: false });\n      setToken(\"\");\n      setUserState(null);\n      localStorage.removeItem(\"token\");\n      localStorage.removeItem(\"user\");\n      Cookies.remove(\"token\"); // Elimina las cookies\n      Cookies.remove(\"user\");\n    } catch (error) {\n      console.error(\"Error durante el cierre de sesión:\", error);\n    }\n  }, []);\n\n  const signInWithGoogle = useCallback(async (): Promise<IUser | null> => {\n    try {\n      await signIn(\"google\", { callbackUrl: \"/\" });\n      const session = await getSession();\n      if (!session?.user) {\n        throw new Error(\"No se pudo obtener la sesión del usuario\");\n      }\n      const { email, name } = session.user as IUser;\n      return registerUser(email, name);\n    } catch (error) {\n      console.error(\"Error en signInWithGoogle:\", error);\n      return null;\n    }\n  }, [registerUser]);\n\n  const signUpWithGoogle = useCallback(async (): Promise<IUser | null> => {\n    return signInWithGoogle();\n  }, [signInWithGoogle]);\n\n  const requestResetPassword = useCallback(\n    async (email: string): Promise<{ message: string }> => {\n      const { data: response, error } = await handleAsync(\n        api.post(\"/users/request-reset-password\", { email })\n      );\n      if (error || !response?.data) {\n        throw new Error(\n          error?.message || \"Error al solicitar reset de contraseña\"\n        );\n      }\n      return response.data;\n    },\n    []\n  );\n\n  const resetPassword = useCallback(\n    async (\n      token: string,\n      newPassword: string\n    ): Promise<{ message: string }> => {\n      const { data: response, error } = await handleAsync(\n        api.post(\"/users/reset-password\", { token, newPassword })\n      );\n      if (error || !response?.data) {\n        throw new Error(error?.message || \"Error al resetear contraseña\");\n      }\n      return response.data;\n    },\n    []\n  );\n\n  const value = useMemo(\n    () => ({\n      token,\n      user,\n      signInO,\n      signUp,\n      deleteUser,\n      mailIsValid,\n      updateUser,\n      signOut,\n      signInWithGoogle,\n      signUpWithGoogle,\n      requestResetPassword,\n      resetPassword,\n    }),\n    [\n      user,\n      token,\n      signInO,\n      signUp,\n      deleteUser,\n      mailIsValid,\n      updateUser,\n      signOut,\n      signInWithGoogle,\n      signUpWithGoogle,\n      requestResetPassword,\n      resetPassword,\n    ]\n  );\n\n  return <UserContext.Provider value={value}>{children}</UserContext.Provider>;\n};\n\nexport default UserContext;\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 396, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 402, "column": 0}, "map": {"version":3,"sources":["file://C%3A/Users/tomir/OneDrive/Desktop/AssetlyLandingPage/client/app/%28default%29/profile/layout.tsx"],"sourcesContent":["\"use client\";\nimport React, { useContext, useEffect, useState } from \"react\";\nimport { UserContext } from \"@/context/user.context\";\nimport { UserPen, LogOut } from \"lucide-react\";\nimport { useRouter } from \"next/navigation\";\nimport Link from \"next/link\";\nimport SuscriberProfile from \"@/components/suscriberProfile\";\n\nconst UserProfile: React.FC = () => {\n  const { user, updateUser, signOut } = useContext(UserContext);\n  const router = useRouter();\n  const [formData, setFormData] = useState({\n    email: \"\",\n    company: \"\",\n    password: \"\",\n    telefono: \"\",\n    name: \"\",\n  });\n  const [isEditing, setIsEditing] = useState(false);\n\n  useEffect(() => {\n    let timeout: NodeJS.Timeout;\n\n    if (!user) {\n      timeout = setTimeout(() => {\n        router?.push(\"/signin\");\n      }, 1000);\n    } else {\n      setFormData({\n        name: user.name || \"\",\n        email: user.email || \"\",\n        telefono: user.telefono || \"\",\n        company: user.company || \"\",\n        password: \"\",\n      });\n    }\n\n    return () => {\n      clearTimeout(timeout);\n    };\n  }, [user, router]);\n\n  if (!user) return null;\n\n  const handleChange = (e: React.ChangeEvent<HTMLInputElement>) => {\n    setFormData({ ...formData, [e.target.name]: e.target.value });\n  };\n\n  const handleSubmit = async (e: React.FormEvent) => {\n    e.preventDefault();\n    await updateUser({ ...formData, id: user.id });\n    setIsEditing(false);\n  };\n\n  const handleSignOut = () => {\n    signOut();\n  };\n\n  const toggleEditMode = () => {\n    setIsEditing(!isEditing);\n  };\n\n  return (\n    <section className=\"px-2 py-3 mx-auto max-w-7xl\">\n      <div className=\"relative w-[75vw] mx-auto overflow-hidden bg-gray-800 shadow-2xl sm:px-6 rounded-2xl flex flex-col\">\n        <div className=\"relative flex flex-wrap items-center justify-between gap-3 px-4 py-6 md:flex-row\">\n          <div className=\"flex items-center gap-3\">\n            <Link\n              href=\"/\"\n              onClick={handleSignOut}\n              className=\"transition-transform transform hover:scale-110\"\n            >\n              <LogOut size={48} className=\"text-red-400\" />\n            </Link>\n            <div className=\"flex flex-col\">\n              <h2 className=\"text-4xl font-bold text-transparent bg-clip-text bg-gradient-to-r from-indigo-400 via-purple-400 to-pink-400\">\n                {user.name}\n              </h2>\n              <p className=\"text-sm text-indigo-200/65\">{user.id}</p>\n            </div>\n          </div>\n          <p className=\"w-full text-2xl font-bold text-transparent bg-clip-text bg-gradient-to-r from-indigo-400 via-purple-400 to-pink-400 md:text-right md:w-auto\">\n            {user.company}\n          </p>\n        </div>\n\n        {user?.isAdmin && (\n          <div className=\"absolute top-0 right-0 px-3 py-1 text-lg rounded-l-lg bg-gradient-to-r from-indigo-600 via-purple-600 to-pink-400 text-neutral-950\">\n            Admin\n          </div>\n        )}\n\n        <div className=\"p-4\">\n          {isEditing ? (\n            <form onSubmit={handleSubmit}>\n              <div className=\"grid grid-cols-1 gap-6 md:grid-cols-2\">\n                <div>\n                  <label className=\"block text-gray-300\">Nombre</label>\n                  <input\n                    type=\"text\"\n                    name=\"name\"\n                    value={formData.name}\n                    onChange={handleChange}\n                    className=\"w-full px-3 py-2 mt-1 text-white bg-gray-700 rounded-lg\"\n                  />\n                </div>\n                <div>\n                  <label className=\"block text-gray-300\">Email</label>\n                  <input\n                    type=\"email\"\n                    name=\"email\"\n                    value={formData.email}\n                    onChange={handleChange}\n                    className=\"w-full px-3 py-2 mt-1 text-white bg-gray-700 rounded-lg\"\n                  />\n                </div>\n                <div>\n                  <label className=\"block text-gray-300\">Teléfono</label>\n                  <input\n                    type=\"text\"\n                    name=\"telefono\"\n                    value={formData.telefono}\n                    onChange={handleChange}\n                    className=\"w-full px-3 py-2 mt-1 text-white bg-gray-700 rounded-lg\"\n                  />\n                </div>\n                <div>\n                  <label className=\"block text-gray-300\">Empresa</label>\n                  <input\n                    type=\"text\"\n                    name=\"company\"\n                    value={formData.company}\n                    onChange={handleChange}\n                    className=\"w-full px-3 py-2 mt-1 text-white bg-gray-700 rounded-lg\"\n                  />\n                </div>\n              </div>\n              <div className=\"mt-6\">\n                <label className=\"block text-gray-300\">\n                  Contraseña (dejar en blanco para no cambiar)\n                </label>\n                <input\n                  type=\"password\"\n                  name=\"password\"\n                  value={formData.password}\n                  onChange={handleChange}\n                  className=\"w-full px-3 py-2 mt-1 text-white bg-gray-700 rounded-lg\"\n                  placeholder=\"********\"\n                />\n              </div>\n              <div className=\"flex justify-between mt-4\">\n                <button\n                  type=\"submit\"\n                  className=\"px-6 py-3 font-semibold text-white transition-transform transform rounded-lg shadow-md hover:scale-110 bg-gradient-to-r from-purple-600 to-indigo-600 hover:from-purple-700 hover:to-indigo-700\"\n                >\n                  Guardar Cambios\n                </button>\n                <button\n                  type=\"button\"\n                  onClick={toggleEditMode}\n                  className=\"px-4 py-2 text-white transition-transform transform bg-gray-600 rounded-lg hover:bg-gray-700 hover:scale-110\"\n                >\n                  Cancelar\n                </button>\n              </div>\n            </form>\n          ) : (\n            <div>\n              <div className=\"grid grid-cols-1 gap-6 md:grid-cols-2\">\n                <div>\n                  <p className=\"block text-gray-300\">\n                    <strong>Nombre:</strong> {formData.name}\n                  </p>\n                </div>\n                <div>\n                  <p className=\"block text-gray-300\">\n                    <strong>Email:</strong> {formData.email}\n                  </p>\n                </div>\n                <div>\n                  <p className=\"block text-gray-300\">\n                    <strong>Teléfono:</strong> {formData.telefono}\n                  </p>\n                </div>\n                <div>\n                  <p className=\"block text-gray-300\">\n                    <strong>Empresa:</strong> {formData.company}\n                  </p>\n                </div>\n              </div>\n              <div className=\"flex justify-end mt-4\">\n                <button\n                  onClick={toggleEditMode}\n                  className=\"transition-transform transform text-indigo-200/65 hover:scale-110\"\n                >\n                  <UserPen size={35} />\n                </button>\n              </div>\n            </div>\n          )}\n        </div>\n      </div>\n      <SuscriberProfile />\n    </section>\n  );\n};\n\nexport default React.memo(UserProfile);\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 924, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}}]
}