{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 7, "column": 0}, "map": {"version":3,"sources":["file://C%3A/Users/tomir/OneDrive/Desktop/AssetlyLandingPage/client/components/plan.tab.tsx"],"sourcesContent":["\"use client\";\nimport { IPlan } from \"@/interfaces/Plan.interface\";\nimport { useRouter } from \"next/navigation\";\nimport { useEffect, useState } from \"react\";\n\nconst PlanesTab: React.FC<{\n  getAllPlans: () => Promise<IPlan[]>;\n  deletePlan: (id: number) => Promise<void>;\n}> = ({ getAllPlans, deletePlan }) => {\n  const router = useRouter();\n  const [allPlans, setAllPlans] = useState<IPlan[]>([]);\n\n  useEffect(() => {\n    const fetchPlans = async () => {\n      try {\n        const plans = await getAllPlans();\n        setAllPlans(plans);\n      } catch (error) {\n        console.error(\"Error fetching plans:\", error);\n      }\n    };\n    fetchPlans();\n  }, [getAllPlans]);\n\n  const handleDelete = async (id: number) => {\n    try {\n      await deletePlan(id);\n      setAllPlans((prev) => prev.filter((plan) => plan.id !== id));\n    } catch (error) {\n      console.error(\"Error al eliminar el plan:\", error);\n    }\n  };\n\n  return (\n    <div>\n      <div className=\"grid grid-cols-1 gap-4 md:grid-cols-2 lg:grid-cols-3\">\n        {allPlans.length > 0 ? (\n          allPlans.map((plan) => (\n            <div key={plan.id} className=\"p-4 bg-gray-700 rounded-lg shadow\">\n              <p className=\"text-lg font-bold text-white\">{plan.name}</p>\n              <p className=\"text-gray-300\">{plan.descripcion}</p>\n              <p className=\"text-gray-300\">Precio: ${plan.precio}</p>\n              <div className=\"flex justify-between mt-2\">\n                <button\n                  onClick={() => router.push(`/administracion/plan/${plan.id}`)}\n                  className=\"px-3 py-1 text-sm text-white bg-blue-600 rounded hover:bg-blue-700\"\n                >\n                  Editar\n                </button>\n                <button\n                  onClick={() => handleDelete(plan.id)}\n                  className=\"px-3 py-1 text-sm text-white bg-red-600 rounded hover:bg-red-700\"\n                >\n                  Eliminar\n                </button>\n              </div>\n            </div>\n          ))\n        ) : (\n          <div className=\"text-center text-gray-300 col-span-full\">\n            No se encontraron planes.\n          </div>\n        )}\n      </div>\n      <button\n        onClick={() => router.push(\"/administracion/plan/nuevo\")}\n        className=\"px-4 py-2 mt-4 text-white bg-green-600 rounded hover:bg-green-700\"\n      >\n        Agregar Nuevo Plan\n      </button>\n    </div>\n  );\n};\n\nexport default PlanesTab;\n"],"names":[],"mappings":";;;;AAEA;AACA;;;AAHA;;;AAKA,MAAM,YAGD,CAAC,EAAE,WAAW,EAAE,UAAU,EAAE;;IAC/B,MAAM,SAAS,CAAA,GAAA,qIAAA,CAAA,YAAS,AAAD;IACvB,MAAM,CAAC,UAAU,YAAY,GAAG,CAAA,GAAA,6JAAA,CAAA,WAAQ,AAAD,EAAW,EAAE;IAEpD,CAAA,GAAA,6JAAA,CAAA,YAAS,AAAD;+BAAE;YACR,MAAM;kDAAa;oBACjB,IAAI;wBACF,MAAM,QAAQ,MAAM;wBACpB,YAAY;oBACd,EAAE,OAAO,OAAO;wBACd,QAAQ,KAAK,CAAC,yBAAyB;oBACzC;gBACF;;YACA;QACF;8BAAG;QAAC;KAAY;IAEhB,MAAM,eAAe,OAAO;QAC1B,IAAI;YACF,MAAM,WAAW;YACjB,YAAY,CAAC,OAAS,KAAK,MAAM,CAAC,CAAC,OAAS,KAAK,EAAE,KAAK;QAC1D,EAAE,OAAO,OAAO;YACd,QAAQ,KAAK,CAAC,8BAA8B;QAC9C;IACF;IAEA,qBACE,6LAAC;;0BACC,6LAAC;gBAAI,WAAU;0BACZ,SAAS,MAAM,GAAG,IACjB,SAAS,GAAG,CAAC,CAAC,qBACZ,6LAAC;wBAAkB,WAAU;;0CAC3B,6LAAC;gCAAE,WAAU;0CAAgC,KAAK,IAAI;;;;;;0CACtD,6LAAC;gCAAE,WAAU;0CAAiB,KAAK,WAAW;;;;;;0CAC9C,6LAAC;gCAAE,WAAU;;oCAAgB;oCAAU,KAAK,MAAM;;;;;;;0CAClD,6LAAC;gCAAI,WAAU;;kDACb,6LAAC;wCACC,SAAS,IAAM,OAAO,IAAI,CAAC,CAAC,qBAAqB,EAAE,KAAK,EAAE,EAAE;wCAC5D,WAAU;kDACX;;;;;;kDAGD,6LAAC;wCACC,SAAS,IAAM,aAAa,KAAK,EAAE;wCACnC,WAAU;kDACX;;;;;;;;;;;;;uBAdK,KAAK,EAAE;;;;8CAqBnB,6LAAC;oBAAI,WAAU;8BAA0C;;;;;;;;;;;0BAK7D,6LAAC;gBACC,SAAS,IAAM,OAAO,IAAI,CAAC;gBAC3B,WAAU;0BACX;;;;;;;;;;;;AAKP;GAnEM;;QAIW,qIAAA,CAAA,YAAS;;;KAJpB;uCAqES"}},
    {"offset": {"line": 154, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 160, "column": 0}, "map": {"version":3,"sources":["file://C%3A/Users/tomir/OneDrive/Desktop/AssetlyLandingPage/client/interfaces/Subscripcion.interface.ts"],"sourcesContent":["import { IPlan } from \"./Plan.interface\";\nimport { IUser } from \"./User.interface\";\n\nexport interface ISubscripcion {\n  id: string;\n  plan: IPlan;\n  fechaInicio: Date;\n  fechaUltimaPaga: Date;\n  fechaVencimiento: Date;\n  mercadopagoSubscriptionId: string;\n  status: SubscriptionStatus;\n  cancellationDate: Date | null;\n  cancellationReason: string;\n  metadata: Record<string, any>;\n  user: IUser;\n}\n\nexport enum SubscriptionStatus {\n  ACTIVE = \"active\", // La suscripción está activa.\n  PAUSED = \"paused\", // La suscripción ha sido pausada.\n  CANCELLED = \"cancelled\", // La suscripción ha sido cancelada.\n  PENDING = \"pending\", // La suscripción está pendiente de aprobación.\n  APPROVED = \"approved\", // La suscripción ha sido aprobada.\n  REJECTED = \"rejected\", // La suscripción ha sido rechazada.\n  EXPIRED = \"expired\", // La suscripción ha expirado.\n}\n"],"names":[],"mappings":";;;AAiBO,IAAA,AAAK,4CAAA;;;;;;;;WAAA"}},
    {"offset": {"line": 176, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 182, "column": 0}, "map": {"version":3,"sources":["file://C%3A/Users/tomir/OneDrive/Desktop/AssetlyLandingPage/client/components/sub.tab.tsx"],"sourcesContent":["\"use client\";\nimport {\n  ISubscripcion,\n  SubscriptionStatus,\n} from \"@/interfaces/Subscripcion.interface\";\nimport { useEffect, useState } from \"react\";\n\nconst SuscripcionesTab: React.FC<{\n  getAllSubscriptions: () => Promise<ISubscripcion[]>;\n  updateSubscriptionStatus: (\n    id: string,\n    status: SubscriptionStatus\n  ) => Promise<ISubscripcion>;\n  cancelSubscription: (id: string, reason: string) => Promise<ISubscripcion>;\n}> = ({\n  getAllSubscriptions,\n  updateSubscriptionStatus,\n  cancelSubscription,\n}) => {\n  const [allSubscriptions, setAllSubscriptions] = useState<ISubscripcion[]>([]);\n  const [searchTerm, setSearchTerm] = useState(\"\");\n  const [selectedStatus, setSelectedStatus] =\n    useState<SubscriptionStatus | null>(null);\n  const [loading, setLoading] = useState(true);\n\n  const fetchSubscriptions = async () => {\n    try {\n      setLoading(true);\n      const subs = await getAllSubscriptions();\n      const formattedSubs = subs.map((subscription) => ({\n        ...subscription,\n        // Verificamos si subscription.user existe; si no, asignamos valores por defecto.\n        user: subscription.user\n          ? {\n              id: subscription.user.id,\n              email: subscription.user.email,\n            }\n          : { id: \"N/A\", email: \"N/A\" },\n      })) as ISubscripcion[];\n      setAllSubscriptions(formattedSubs);\n    } catch (error) {\n      console.error(\"Error fetching subscriptions:\", error);\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  useEffect(() => {\n    fetchSubscriptions();\n  }, [getAllSubscriptions]);\n\n  const handlePause = async (id: string) => {\n    try {\n      await updateSubscriptionStatus(id, SubscriptionStatus.PAUSED);\n      fetchSubscriptions();\n    } catch (error) {\n      console.error(\"Error al actualizar la suscripción:\", error);\n    }\n  };\n\n  const handleActivate = async (id: string) => {\n    try {\n      await updateSubscriptionStatus(id, SubscriptionStatus.ACTIVE);\n      fetchSubscriptions();\n    } catch (error) {\n      console.error(\"Error al activar la suscripción:\", error);\n    }\n  };\n\n  const handleCancel = async (id: string) => {\n    try {\n      await cancelSubscription(id, \"Cancelado por admin\");\n      fetchSubscriptions();\n    } catch (error) {\n      console.error(\"Error al cancelar la suscripción:\", error);\n    }\n  };\n\n  // Función para obtener un color basado en el estado\n  const getStatusColor = (status: SubscriptionStatus) => {\n    switch (status) {\n      case SubscriptionStatus.ACTIVE:\n        return \"bg-green-600\";\n      case SubscriptionStatus.PAUSED:\n        return \"bg-blue-600\";\n      case SubscriptionStatus.CANCELLED:\n        return \"bg-red-600\";\n      case SubscriptionStatus.PENDING:\n        return \"bg-yellow-600\";\n      case SubscriptionStatus.APPROVED:\n        return \"bg-teal-600\";\n      case SubscriptionStatus.REJECTED:\n        return \"bg-gray-600\";\n      case SubscriptionStatus.EXPIRED:\n        return \"bg-indigo-600\";\n      default:\n        return \"bg-gray-600\";\n    }\n  };\n\n  // Función para formatear fecha\n  const formatDate = (date: Date) => {\n    if (!date) return \"N/A\";\n    return new Date(date).toLocaleDateString();\n  };\n\n  // Filtrar suscripciones\n  const filteredSubscriptions = allSubscriptions.filter((sub) => {\n    const matchesSearch =\n      sub.id.toLowerCase().includes(searchTerm.toLowerCase()) ||\n      sub.user.email.toLowerCase().includes(searchTerm.toLowerCase()) ||\n      sub.plan.name.toLowerCase().includes(searchTerm.toLowerCase()) ||\n      (sub.mercadopagoSubscriptionId &&\n        sub.mercadopagoSubscriptionId\n          .toLowerCase()\n          .includes(searchTerm.toLowerCase()));\n\n    let matchesStatus = true;\n    if (selectedStatus !== null) {\n      matchesStatus = sub.status === selectedStatus;\n    }\n\n    return matchesSearch && matchesStatus;\n  });\n\n  // Función para alternar estado seleccionado\n  const toggleStatusSelection = (status: SubscriptionStatus) => {\n    if (selectedStatus === status) {\n      setSelectedStatus(null);\n    } else {\n      setSelectedStatus(status);\n    }\n  };\n\n  return (\n    <div>\n      <h2 className=\"mb-4 text-2xl font-bold text-white\">Suscripciones</h2>\n\n      {/* Filtros */}\n      <div className=\"flex flex-col gap-4 mb-6 md:flex-row\">\n        <input\n          type=\"text\"\n          placeholder=\"Buscar por ID, email o plan...\"\n          value={searchTerm}\n          onChange={(e) => setSearchTerm(e.target.value)}\n          className=\"flex-1 px-4 py-2 text-white bg-gray-700 rounded-lg\"\n        />\n        <div className=\"flex flex-wrap gap-4\">\n          {Object.values(SubscriptionStatus).map((status) => (\n            <button\n              key={status}\n              onClick={() => toggleStatusSelection(status)}\n              className={`w-32 px-4 py-2 rounded-lg text-white transition-colors ${\n                selectedStatus === status\n                  ? getStatusColor(status)\n                  : \"bg-gray-700\"\n              }`}\n            >\n              {status}\n            </button>\n          ))}\n        </div>\n      </div>\n\n      {loading ? (\n        <div className=\"flex items-center justify-center h-32\">\n          <div className=\"w-8 h-8 border-4 rounded-full border-t-indigo-600 animate-spin\"></div>\n        </div>\n      ) : (\n        <div className=\"grid grid-cols-1 gap-4 md:grid-cols-2 lg:grid-cols-3\">\n          {filteredSubscriptions.length > 0 ? (\n            filteredSubscriptions.map((sub: ISubscripcion) => (\n              <div key={sub.id} className=\"p-2 bg-gray-700 rounded-lg shadow\">\n                <div className=\"flex items-center justify-between mb-1\">\n                  <p className=\"text-xs font-bold text-white truncate\">\n                    ID: {sub.id}\n                  </p>\n                  <span\n                    className={`px-2 py-1 text-xs font-bold text-white rounded-full ${getStatusColor(\n                      sub.status\n                    )}`}\n                  >\n                    {sub.status}\n                  </span>\n                </div>\n                <div className=\"space-y-1\">\n                  <p className=\"text-xs text-gray-400\">UserId{sub.user.id}</p>\n                  <p className=\"text-xs text-gray-400\">\n                    Email: {sub.user.email}\n                  </p>\n                  <p className=\"text-xs text-gray-400\">\n                    <span className=\"font-medium\">Plan:</span> {sub.plan.name}\n                  </p>\n                  <p className=\"text-xs text-gray-400\">\n                    <span className=\"font-medium\">Inicio:</span>{\" \"}\n                    {formatDate(sub.fechaInicio)}\n                  </p>\n                  <p className=\"text-xs text-gray-400\">\n                    <span className=\"font-medium\">Último pago:</span>{\" \"}\n                    {formatDate(sub.fechaUltimaPaga)}\n                  </p>\n                  <p className=\"text-xs text-gray-400\">\n                    <span className=\"font-medium\">Vencimiento:</span>{\" \"}\n                    {formatDate(sub.fechaVencimiento)}\n                  </p>\n                  {sub.mercadopagoSubscriptionId && (\n                    <p className=\"text-xs text-gray-400\">\n                      <span className=\"font-medium\">MP ID:</span>{\" \"}\n                      <span className=\"text-xs text-gray-400 truncate\">\n                        {sub.mercadopagoSubscriptionId}\n                      </span>\n                    </p>\n                  )}\n                  {sub.cancellationDate && (\n                    <p className=\"text-xs text-gray-400\">\n                      <span className=\"font-medium\">Cancelada:</span>{\" \"}\n                      {formatDate(sub.cancellationDate)}\n                    </p>\n                  )}\n                </div>\n                <div className=\"flex flex-wrap gap-2 mt-3\">\n                  {sub.status === SubscriptionStatus.ACTIVE && (\n                    <button\n                      onClick={() => handlePause(sub.id)}\n                      className=\"px-3 py-1 text-sm text-white bg-yellow-600 rounded hover:bg-yellow-700\"\n                    >\n                      Pausar\n                    </button>\n                  )}\n                  {sub.status === SubscriptionStatus.PAUSED && (\n                    <button\n                      onClick={() => handleActivate(sub.id)}\n                      className=\"px-3 py-1 text-sm text-white bg-green-600 rounded hover:bg-green-700\"\n                    >\n                      Activar\n                    </button>\n                  )}\n                  {sub.status === SubscriptionStatus.PENDING && (\n                    <>\n                      <button\n                        onClick={() => handleActivate(sub.id)}\n                        className=\"px-3 py-1 text-sm text-white bg-green-600 rounded hover:bg-green-700\"\n                      >\n                        Aprobar\n                      </button>\n                      <button\n                        onClick={() => handleCancel(sub.id)}\n                        className=\"px-3 py-1 text-sm text-white bg-red-600 rounded hover:bg-red-700\"\n                      >\n                        Cancelar\n                      </button>\n                    </>\n                  )}\n                  {(sub.status === SubscriptionStatus.ACTIVE ||\n                    sub.status === SubscriptionStatus.PAUSED) && (\n                    <button\n                      onClick={() => handleCancel(sub.id)}\n                      className=\"px-3 py-1 text-sm text-white bg-red-600 rounded hover:bg-red-700\"\n                    >\n                      Cancelar\n                    </button>\n                  )}\n                </div>\n              </div>\n            ))\n          ) : (\n            <div className=\"text-center text-gray-300 col-span-full\">\n              No se encontraron suscripciones.\n            </div>\n          )}\n        </div>\n      )}\n    </div>\n  );\n};\n\nexport default SuscripcionesTab;\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 630, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 636, "column": 0}, "map": {"version":3,"sources":["file://C%3A/Users/tomir/OneDrive/Desktop/AssetlyLandingPage/client/components/user.modal.tsx"],"sourcesContent":["\"use client\";\nimport { IUser } from \"@/interfaces/User.interface\";\n\nconst UserModal: React.FC<{\n  user: IUser;\n  onClose: () => void;\n  onEdit: (id: string) => void;\n}> = ({ user, onClose, onEdit }) => {\n  return (\n    <div className=\"fixed inset-0 z-50 flex items-center justify-center bg-black bg-opacity-50\">\n      <div className=\"w-11/12 p-6 bg-gray-800 rounded-lg shadow-lg md:w-1/2 lg:w-1/3\">\n        <h2 className=\"mb-4 text-2xl font-bold text-white\">\n          Detalles del Usuario\n        </h2>\n        <div className=\"space-y-2 text-gray-300\">\n          {Object.entries(user)\n            .filter(([key]) => key !== \"password\" && key !== \"isAdmin\")\n            .map(([key, value]) => (\n              <div key={key} className=\"flex\">\n                <span className=\"mr-2 font-bold\">{key}:</span>\n                <span>\n                  {typeof value === \"object\"\n                    ? JSON.stringify(value)\n                    : String(value)}\n                </span>\n              </div>\n            ))}\n        </div>\n        <div className=\"flex justify-end mt-4\">\n          <button\n            onClick={onClose}\n            className=\"px-4 py-2 text-white transition-all rounded bg-gradient-to-r from-purple-600 to-indigo-600 hover:from-purple-700 hover:to-indigo-700\"\n          >\n            Cerrar\n          </button>\n          <button\n            onClick={() => onEdit(user.id)}\n            className=\"px-4 py-2 ml-2 text-white transition-all rounded bg-gradient-to-r from-green-600 to-blue-600 hover:from-green-700 hover:to-blue-700\"\n          >\n            Modificar\n          </button>\n        </div>\n      </div>\n    </div>\n  );\n};\n\nexport default UserModal;\n"],"names":[],"mappings":";;;;AAAA;;AAGA,MAAM,YAID,CAAC,EAAE,IAAI,EAAE,OAAO,EAAE,MAAM,EAAE;IAC7B,qBACE,6LAAC;QAAI,WAAU;kBACb,cAAA,6LAAC;YAAI,WAAU;;8BACb,6LAAC;oBAAG,WAAU;8BAAqC;;;;;;8BAGnD,6LAAC;oBAAI,WAAU;8BACZ,OAAO,OAAO,CAAC,MACb,MAAM,CAAC,CAAC,CAAC,IAAI,GAAK,QAAQ,cAAc,QAAQ,WAChD,GAAG,CAAC,CAAC,CAAC,KAAK,MAAM,iBAChB,6LAAC;4BAAc,WAAU;;8CACvB,6LAAC;oCAAK,WAAU;;wCAAkB;wCAAI;;;;;;;8CACtC,6LAAC;8CACE,OAAO,UAAU,WACd,KAAK,SAAS,CAAC,SACf,OAAO;;;;;;;2BALL;;;;;;;;;;8BAUhB,6LAAC;oBAAI,WAAU;;sCACb,6LAAC;4BACC,SAAS;4BACT,WAAU;sCACX;;;;;;sCAGD,6LAAC;4BACC,SAAS,IAAM,OAAO,KAAK,EAAE;4BAC7B,WAAU;sCACX;;;;;;;;;;;;;;;;;;;;;;;AAOX;KA1CM;uCA4CS"}},
    {"offset": {"line": 736, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 742, "column": 0}, "map": {"version":3,"sources":["file://C%3A/Users/tomir/OneDrive/Desktop/AssetlyLandingPage/client/components/user.tab.tsx"],"sourcesContent":["\"use client\";\nimport { IPlan } from \"@/interfaces/Plan.interface\";\nimport { IUser } from \"@/interfaces/User.interface\";\nimport { useRouter } from \"next/navigation\";\nimport { useEffect, useState } from \"react\";\nimport UserModal from \"./user.modal\";\n\nconst UsuariosTab: React.FC<{\n  getUsers: () => Promise<IUser[]>;\n  planes: IPlan[];\n}> = ({ getUsers, planes }) => {\n  const router = useRouter();\n  const [allUsers, setAllUsers] = useState<IUser[]>([]);\n  const [searchTerm, setSearchTerm] = useState(\"\");\n  const [selectedPlan, setSelectedPlan] = useState<number | null>(null);\n  const [modalOpen, setModalOpen] = useState(false);\n  const [selectedUser, setSelectedUser] = useState<IUser | null>(null);\n\n  useEffect(() => {\n    const fetchUsers = async () => {\n      try {\n        const users = await getUsers();\n        setAllUsers(users);\n      } catch (error) {\n        console.error(\"Error fetching users:\", error);\n      }\n    };\n    fetchUsers();\n  }, [getUsers]);\n\n  const filteredUsers = allUsers.filter((user) => {\n    const matchesSearch =\n      user.name.toLowerCase().includes(searchTerm.toLowerCase()) ||\n      user.email.toLowerCase().includes(searchTerm.toLowerCase()) ||\n      user.id.toLowerCase().includes(searchTerm.toLowerCase());\n\n    let matchesPlan = true;\n    if (selectedPlan !== null) {\n      matchesPlan = user.subscripcion?.plan\n        ? user.subscripcion.plan.id === selectedPlan\n        : false;\n    }\n\n    return matchesSearch && matchesPlan;\n  });\n\n  // Permitir seleccionar solo un plan a la vez\n  const togglePlanSelection = (planId: number) => {\n    if (selectedPlan === planId) {\n      setSelectedPlan(null);\n    } else {\n      setSelectedPlan(planId);\n    }\n  };\n\n  const openModal = (user: IUser) => {\n    setSelectedUser(user);\n    setModalOpen(true);\n  };\n\n  const closeModal = () => {\n    setSelectedUser(null);\n    setModalOpen(false);\n  };\n\n  const redirectToEdit = (userId: string) => {\n    router.push(`/user/${userId}`);\n  };\n\n  return (\n    <div>\n      <div className=\"flex flex-col gap-4 mb-6 md:flex-row\">\n        <input\n          type=\"text\"\n          placeholder=\"Buscar por nombre, email o ID...\"\n          value={searchTerm}\n          onChange={(e) => setSearchTerm(e.target.value)}\n          className=\"flex-1 px-4 py-2 text-white bg-gray-700 rounded-lg\"\n        />\n        <div className=\"flex flex-wrap gap-4\">\n          {planes.map((plan) => (\n            <button\n              key={plan.id}\n              onClick={() => togglePlanSelection(plan.id)}\n              // Se añade una clase de ancho fijo (w-32) para que los botones tengan el mismo tamaño\n              className={`w-32 px-4 py-2 rounded-lg text-white transition-colors ${\n                selectedPlan === plan.id ? \"bg-indigo-600\" : \"bg-gray-700\"\n              }`}\n            >\n              {plan.name}\n            </button>\n          ))}\n        </div>\n      </div>\n\n      <div className=\"grid grid-cols-1 gap-4 md:grid-cols-2 lg:grid-cols-3\">\n        {filteredUsers.length > 0 ? (\n          filteredUsers.map((user) => (\n            <div\n              key={user.id}\n              onClick={() => openModal(user)}\n              className=\"relative p-4 transition-colors bg-gray-700 rounded-lg shadow cursor-pointer hover:bg-gray-600\"\n            >\n              <p className=\"text-lg font-bold text-white\">{user.name}</p>\n              {user.isAdmin && (\n                <div className=\"absolute flex items-center justify-center w-4 h-4 text-xs font-bold rounded-full top-2 right-2 bg-gradient-to-r from-indigo-600 via-purple-600 to-pink-400 text-neutral-950\">\n                  A\n                </div>\n              )}\n              <p className=\"text-gray-300\">{user.email}</p>\n              <p className=\"text-sm text-gray-400\">ID: {user.id}</p>\n            </div>\n          ))\n        ) : (\n          <div className=\"text-center text-gray-300 col-span-full\">\n            No se encontraron usuarios.\n          </div>\n        )}\n      </div>\n\n      {/* Modal de detalles del usuario */}\n      {modalOpen && selectedUser && (\n        <UserModal\n          user={selectedUser}\n          onClose={closeModal}\n          onEdit={redirectToEdit}\n        />\n      )}\n    </div>\n  );\n};\n\nexport default UsuariosTab;\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 933, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 939, "column": 0}, "map": {"version":3,"sources":["file://C%3A/Users/tomir/OneDrive/Desktop/AssetlyLandingPage/client/app/%28default%29/administracion/layout.tsx"],"sourcesContent":["\"use client\";\nimport PlanesTab from \"@/components/plan.tab\";\nimport SuscripcionesTab from \"@/components/sub.tab\";\nimport UsuariosTab from \"@/components/user.tab\";\nimport { AdminContext } from \"@/context/Administracion.context\";\nimport { PlansContext } from \"@/context/Planes.context\";\nimport { useContext, useState } from \"react\";\nconst AdminPanel: React.FC = () => {\n  const { planes } = useContext(PlansContext);\n  const {\n    getUsers,\n    getAllPlans,\n    deletePlan,\n    getAllSubscriptions,\n    updateSubscriptionStatus,\n    cancelSubscription,\n  } = useContext(AdminContext);\n  const [activeTab, setActiveTab] = useState<\n    \"usuarios\" | \"planes\" | \"suscripciones\"\n  >(\"usuarios\");\n\n  return (\n    <section className=\"w-11/12 px-4 py-3 mx-auto max-w-7xl\">\n      <h1 className=\"mb-4 text-3xl font-bold text-white\">\n        Panel de Administración\n      </h1>\n      <div className=\"flex gap-2 mb-6\">\n        <button\n          onClick={() => setActiveTab(\"usuarios\")}\n          className={`px-4 py-2 rounded ${\n            activeTab === \"usuarios\"\n              ? \"bg-indigo-600\"\n              : \"bg-gray-700 text-white\"\n          }`}\n        >\n          Usuarios\n        </button>\n        <button\n          onClick={() => setActiveTab(\"planes\")}\n          className={`px-4 py-2 rounded ${\n            activeTab === \"planes\" ? \"bg-indigo-600\" : \"bg-gray-700 text-white\"\n          }`}\n        >\n          Planes\n        </button>\n        <button\n          onClick={() => setActiveTab(\"suscripciones\")}\n          className={`px-4 py-2 rounded ${\n            activeTab === \"suscripciones\"\n              ? \"bg-indigo-600\"\n              : \"bg-gray-700 text-white\"\n          }`}\n        >\n          Suscripciones\n        </button>\n      </div>\n      {activeTab === \"usuarios\" && (\n        <UsuariosTab getUsers={getUsers} planes={planes} />\n      )}\n      {activeTab === \"planes\" && (\n        <PlanesTab getAllPlans={getAllPlans} deletePlan={deletePlan} />\n      )}\n      {activeTab === \"suscripciones\" && (\n        <SuscripcionesTab\n          getAllSubscriptions={getAllSubscriptions}\n          updateSubscriptionStatus={updateSubscriptionStatus}\n          cancelSubscription={cancelSubscription}\n        />\n      )}\n    </section>\n  );\n};\n\nexport default AdminPanel;\n"],"names":[],"mappings":";;;;AACA;AACA;AACA;AACA;AACA;AACA;;;AANA;;;;;;;AAOA,MAAM,aAAuB;;IAC3B,MAAM,EAAE,MAAM,EAAE,GAAG,CAAA,GAAA,6JAAA,CAAA,aAAU,AAAD,EAAE,gIAAA,CAAA,eAAY;IAC1C,MAAM,EACJ,QAAQ,EACR,WAAW,EACX,UAAU,EACV,mBAAmB,EACnB,wBAAwB,EACxB,kBAAkB,EACnB,GAAG,CAAA,GAAA,6JAAA,CAAA,aAAU,AAAD,EAAE,wIAAA,CAAA,eAAY;IAC3B,MAAM,CAAC,WAAW,aAAa,GAAG,CAAA,GAAA,6JAAA,CAAA,WAAQ,AAAD,EAEvC;IAEF,qBACE,6LAAC;QAAQ,WAAU;;0BACjB,6LAAC;gBAAG,WAAU;0BAAqC;;;;;;0BAGnD,6LAAC;gBAAI,WAAU;;kCACb,6LAAC;wBACC,SAAS,IAAM,aAAa;wBAC5B,WAAW,CAAC,kBAAkB,EAC5B,cAAc,aACV,kBACA,0BACJ;kCACH;;;;;;kCAGD,6LAAC;wBACC,SAAS,IAAM,aAAa;wBAC5B,WAAW,CAAC,kBAAkB,EAC5B,cAAc,WAAW,kBAAkB,0BAC3C;kCACH;;;;;;kCAGD,6LAAC;wBACC,SAAS,IAAM,aAAa;wBAC5B,WAAW,CAAC,kBAAkB,EAC5B,cAAc,kBACV,kBACA,0BACJ;kCACH;;;;;;;;;;;;YAIF,cAAc,4BACb,6LAAC,6HAAA,CAAA,UAAW;gBAAC,UAAU;gBAAU,QAAQ;;;;;;YAE1C,cAAc,0BACb,6LAAC,6HAAA,CAAA,UAAS;gBAAC,aAAa;gBAAa,YAAY;;;;;;YAElD,cAAc,iCACb,6LAAC,4HAAA,CAAA,UAAgB;gBACf,qBAAqB;gBACrB,0BAA0B;gBAC1B,oBAAoB;;;;;;;;;;;;AAK9B;GAhEM;KAAA;uCAkES"}},
    {"offset": {"line": 1050, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 1060, "column": 0}, "map": {"version":3,"sources":["file://C%3A/Users/tomir/OneDrive/Desktop/AssetlyLandingPage/client/node_modules/next/navigation.js"],"sourcesContent":["module.exports = require('./dist/client/components/navigation')\n"],"names":[],"mappings":"AAAA,OAAO,OAAO","ignoreList":[0]}},
    {"offset": {"line": 1061, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}}]
}