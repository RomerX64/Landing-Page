{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 7, "column": 0}, "map": {"version":3,"sources":["file://C%3A/Users/tomir/OneDrive/Desktop/AssetlyLandingPage/client/components/plan.tab.tsx"],"sourcesContent":["\"use client\";\r\nimport { IPlan } from \"@/interfaces/Plan.interface\";\r\nimport { useRouter } from \"next/navigation\";\r\nimport { useEffect, useState } from \"react\";\r\n\r\nconst PlanesTab: React.FC<{\r\n  getAllPlans: () => Promise<IPlan[]>;\r\n  deletePlan: (id: number) => Promise<void>;\r\n}> = ({ getAllPlans, deletePlan }) => {\r\n  const router = useRouter();\r\n  const [allPlans, setAllPlans] = useState<IPlan[]>([]);\r\n\r\n  useEffect(() => {\r\n    const fetchPlans = async () => {\r\n      try {\r\n        const plans = await getAllPlans();\r\n        setAllPlans(plans);\r\n      } catch (error) {\r\n        console.error(\"Error fetching plans:\", error);\r\n      }\r\n    };\r\n    fetchPlans();\r\n  }, [getAllPlans]);\r\n\r\n  const handleDelete = async (id: number) => {\r\n    try {\r\n      await deletePlan(id);\r\n      setAllPlans((prev) => prev.filter((plan) => plan.id !== id));\r\n    } catch (error) {\r\n      console.error(\"Error al eliminar el plan:\", error);\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div>\r\n      <div className=\"grid grid-cols-1 gap-4 md:grid-cols-2 lg:grid-cols-3\">\r\n        {allPlans.length > 0 ? (\r\n          allPlans.map((plan) => (\r\n            <div key={plan.id} className=\"p-4 bg-gray-700 rounded-lg shadow\">\r\n              <p className=\"text-lg font-bold text-white\">{plan.name}</p>\r\n              <p className=\"text-gray-300\">{plan.descripcion}</p>\r\n              <p className=\"text-gray-300\">Precio: ${plan.precio}</p>\r\n              <div className=\"flex justify-between mt-2\">\r\n                <button\r\n                  onClick={() => router.push(`/administracion/plan/${plan.id}`)}\r\n                  className=\"px-3 py-1 text-sm text-white bg-blue-600 rounded hover:bg-blue-700\"\r\n                >\r\n                  Editar\r\n                </button>\r\n                <button\r\n                  onClick={() => handleDelete(plan.id)}\r\n                  className=\"px-3 py-1 text-sm text-white bg-red-600 rounded hover:bg-red-700\"\r\n                >\r\n                  Eliminar\r\n                </button>\r\n              </div>\r\n            </div>\r\n          ))\r\n        ) : (\r\n          <div className=\"text-center text-gray-300 col-span-full\">\r\n            No se encontraron planes.\r\n          </div>\r\n        )}\r\n      </div>\r\n      <button\r\n        onClick={() => router.push(\"/administracion/plan/nuevo\")}\r\n        className=\"px-4 py-2 mt-4 text-white bg-green-600 rounded hover:bg-green-700\"\r\n      >\r\n        Agregar Nuevo Plan\r\n      </button>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default PlanesTab;\r\n"],"names":[],"mappings":";;;;AAEA;AACA;;;AAHA;;;AAKA,MAAM,YAGD,CAAC,EAAE,WAAW,EAAE,UAAU,EAAE;;IAC/B,MAAM,SAAS,CAAA,GAAA,qIAAA,CAAA,YAAS,AAAD;IACvB,MAAM,CAAC,UAAU,YAAY,GAAG,CAAA,GAAA,6JAAA,CAAA,WAAQ,AAAD,EAAW,EAAE;IAEpD,CAAA,GAAA,6JAAA,CAAA,YAAS,AAAD;+BAAE;YACR,MAAM;kDAAa;oBACjB,IAAI;wBACF,MAAM,QAAQ,MAAM;wBACpB,YAAY;oBACd,EAAE,OAAO,OAAO;wBACd,QAAQ,KAAK,CAAC,yBAAyB;oBACzC;gBACF;;YACA;QACF;8BAAG;QAAC;KAAY;IAEhB,MAAM,eAAe,OAAO;QAC1B,IAAI;YACF,MAAM,WAAW;YACjB,YAAY,CAAC,OAAS,KAAK,MAAM,CAAC,CAAC,OAAS,KAAK,EAAE,KAAK;QAC1D,EAAE,OAAO,OAAO;YACd,QAAQ,KAAK,CAAC,8BAA8B;QAC9C;IACF;IAEA,qBACE,6LAAC;;0BACC,6LAAC;gBAAI,WAAU;0BACZ,SAAS,MAAM,GAAG,IACjB,SAAS,GAAG,CAAC,CAAC,qBACZ,6LAAC;wBAAkB,WAAU;;0CAC3B,6LAAC;gCAAE,WAAU;0CAAgC,KAAK,IAAI;;;;;;0CACtD,6LAAC;gCAAE,WAAU;0CAAiB,KAAK,WAAW;;;;;;0CAC9C,6LAAC;gCAAE,WAAU;;oCAAgB;oCAAU,KAAK,MAAM;;;;;;;0CAClD,6LAAC;gCAAI,WAAU;;kDACb,6LAAC;wCACC,SAAS,IAAM,OAAO,IAAI,CAAC,CAAC,qBAAqB,EAAE,KAAK,EAAE,EAAE;wCAC5D,WAAU;kDACX;;;;;;kDAGD,6LAAC;wCACC,SAAS,IAAM,aAAa,KAAK,EAAE;wCACnC,WAAU;kDACX;;;;;;;;;;;;;uBAdK,KAAK,EAAE;;;;8CAqBnB,6LAAC;oBAAI,WAAU;8BAA0C;;;;;;;;;;;0BAK7D,6LAAC;gBACC,SAAS,IAAM,OAAO,IAAI,CAAC;gBAC3B,WAAU;0BACX;;;;;;;;;;;;AAKP;GAnEM;;QAIW,qIAAA,CAAA,YAAS;;;KAJpB;uCAqES"}},
    {"offset": {"line": 154, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 160, "column": 0}, "map": {"version":3,"sources":["file://C%3A/Users/tomir/OneDrive/Desktop/AssetlyLandingPage/client/interfaces/Subscripcion.interface.ts"],"sourcesContent":["import { IPlan } from \"./Plan.interface\";\nimport { IUser } from \"./User.interface\";\n\nexport interface ISubscripcion {\n  id: string;\n  plan: IPlan;\n  fechaInicio: Date;\n  fechaUltimaPaga: Date;\n  fechaVencimiento: Date;\n  mercadopagoSubscriptionId: string;\n  status: SubscriptionStatus;\n  cancellationDate: Date | null;\n  cancellationReason: string;\n  metadata: Record<string, any>;\n  user: IUser;\n}\n\nexport enum SubscriptionStatus {\n  ACTIVE = \"active\",\n  PAUSED = \"paused\",\n  CANCELLED = \"cancelled\",\n  PENDING = \"pending\",\n}\n"],"names":[],"mappings":";;;AAiBO,IAAA,AAAK,4CAAA;;;;;WAAA"}},
    {"offset": {"line": 173, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 179, "column": 0}, "map": {"version":3,"sources":["file://C%3A/Users/tomir/OneDrive/Desktop/AssetlyLandingPage/client/components/sub.tab.tsx"],"sourcesContent":["\"use client\";\r\nimport {\r\n  ISubscripcion,\r\n  SubscriptionStatus,\r\n} from \"@/interfaces/Subscripcion.interface\";\r\nimport { useEffect, useState } from \"react\";\r\n\r\nconst SuscripcionesTab: React.FC<{\r\n  getAllSubscriptions: () => Promise<ISubscripcion[]>;\r\n  updateSubscriptionStatus: (\r\n    id: string,\r\n    status: SubscriptionStatus\r\n  ) => Promise<ISubscripcion>;\r\n  cancelSubscription: (id: string, reason: string) => Promise<ISubscripcion>;\r\n}> = ({\r\n  getAllSubscriptions,\r\n  updateSubscriptionStatus,\r\n  cancelSubscription,\r\n}) => {\r\n  const [allSubscriptions, setAllSubscriptions] = useState<ISubscripcion[]>([]);\r\n  const [searchTerm, setSearchTerm] = useState(\"\");\r\n  const [selectedStatus, setSelectedStatus] =\r\n    useState<SubscriptionStatus | null>(null);\r\n  const [loading, setLoading] = useState(true);\r\n\r\n  const fetchSubscriptions = async () => {\r\n    try {\r\n      setLoading(true);\r\n      const subs = await getAllSubscriptions();\r\n      const formattedSubs = subs.map((subscription) => ({\r\n        ...subscription,\r\n        // Verificamos si subscription.user existe; si no, asignamos valores por defecto.\r\n        user: subscription.user\r\n          ? {\r\n              id: subscription.user.id,\r\n              email: subscription.user.email,\r\n            }\r\n          : { id: \"N/A\", email: \"N/A\" },\r\n      })) as ISubscripcion[];\r\n      setAllSubscriptions(formattedSubs);\r\n    } catch (error) {\r\n      console.error(\"Error fetching subscriptions:\", error);\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n  useEffect(() => {\r\n    fetchSubscriptions();\r\n  }, [getAllSubscriptions]);\r\n\r\n  const handlePause = async (id: string) => {\r\n    try {\r\n      await updateSubscriptionStatus(id, SubscriptionStatus.PAUSED);\r\n      fetchSubscriptions();\r\n    } catch (error) {\r\n      console.error(\"Error al actualizar la suscripción:\", error);\r\n    }\r\n  };\r\n\r\n  const handleActivate = async (id: string) => {\r\n    try {\r\n      await updateSubscriptionStatus(id, SubscriptionStatus.ACTIVE);\r\n      fetchSubscriptions();\r\n    } catch (error) {\r\n      console.error(\"Error al activar la suscripción:\", error);\r\n    }\r\n  };\r\n\r\n  const handleCancel = async (id: string) => {\r\n    try {\r\n      await cancelSubscription(id, \"Cancelado por admin\");\r\n      fetchSubscriptions();\r\n    } catch (error) {\r\n      console.error(\"Error al cancelar la suscripción:\", error);\r\n    }\r\n  };\r\n\r\n  // Función para obtener un color basado en el estado\r\n  const getStatusColor = (status: SubscriptionStatus) => {\r\n    switch (status) {\r\n      case SubscriptionStatus.ACTIVE:\r\n        return \"bg-green-600\";\r\n      case SubscriptionStatus.PAUSED:\r\n        return \"bg-blue-600\";\r\n      case SubscriptionStatus.CANCELLED:\r\n        return \"bg-red-600\";\r\n      case SubscriptionStatus.PENDING:\r\n        return \"bg-yellow-600\";\r\n      default:\r\n        return \"bg-gray-600\";\r\n    }\r\n  };\r\n\r\n  // Función para formatear fecha\r\n  const formatDate = (date: Date) => {\r\n    if (!date) return \"N/A\";\r\n    return new Date(date).toLocaleDateString();\r\n  };\r\n\r\n  // Filtrar suscripciones\r\n  const filteredSubscriptions = allSubscriptions.filter((sub) => {\r\n    const matchesSearch =\r\n      sub.id.toLowerCase().includes(searchTerm.toLowerCase()) ||\r\n      sub.user.email.toLowerCase().includes(searchTerm.toLowerCase()) ||\r\n      sub.plan.name.toLowerCase().includes(searchTerm.toLowerCase()) ||\r\n      (sub.mercadopagoSubscriptionId &&\r\n        sub.mercadopagoSubscriptionId\r\n          .toLowerCase()\r\n          .includes(searchTerm.toLowerCase()));\r\n\r\n    let matchesStatus = true;\r\n    if (selectedStatus !== null) {\r\n      matchesStatus = sub.status === selectedStatus;\r\n    }\r\n\r\n    return matchesSearch && matchesStatus;\r\n  });\r\n\r\n  // Función para alternar estado seleccionado\r\n  const toggleStatusSelection = (status: SubscriptionStatus) => {\r\n    if (selectedStatus === status) {\r\n      setSelectedStatus(null);\r\n    } else {\r\n      setSelectedStatus(status);\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div>\r\n      <h2 className=\"mb-4 text-2xl font-bold text-white\">Suscripciones</h2>\r\n\r\n      {/* Filtros */}\r\n      <div className=\"flex flex-col gap-4 mb-6 md:flex-row\">\r\n        <input\r\n          type=\"text\"\r\n          placeholder=\"Buscar por ID, email o plan...\"\r\n          value={searchTerm}\r\n          onChange={(e) => setSearchTerm(e.target.value)}\r\n          className=\"flex-1 px-4 py-2 text-white bg-gray-700 rounded-lg\"\r\n        />\r\n        <div className=\"flex flex-wrap gap-4\">\r\n          {Object.values(SubscriptionStatus).map((status) => (\r\n            <button\r\n              key={status}\r\n              onClick={() => toggleStatusSelection(status)}\r\n              className={`w-32 px-4 py-2 rounded-lg text-white transition-colors ${\r\n                selectedStatus === status\r\n                  ? getStatusColor(status)\r\n                  : \"bg-gray-700\"\r\n              }`}\r\n            >\r\n              {status}\r\n            </button>\r\n          ))}\r\n        </div>\r\n      </div>\r\n\r\n      {loading ? (\r\n        <div className=\"flex items-center justify-center h-32\">\r\n          <div className=\"w-8 h-8 border-4 rounded-full border-t-indigo-600 animate-spin\"></div>\r\n        </div>\r\n      ) : (\r\n        <div className=\"grid grid-cols-1 gap-4 md:grid-cols-2 lg:grid-cols-3\">\r\n          {filteredSubscriptions.length > 0 ? (\r\n            filteredSubscriptions.map((sub: ISubscripcion) => (\r\n              <div key={sub.id} className=\"p-2 bg-gray-700 rounded-lg shadow\">\r\n                <div className=\"flex items-center justify-between mb-1\">\r\n                  <p className=\"text-xs font-bold text-white truncate\">\r\n                    ID: {sub.id}\r\n                  </p>\r\n                  <span\r\n                    className={`px-2 py-1 text-xs font-bold text-white rounded-full ${getStatusColor(\r\n                      sub.status\r\n                    )}`}\r\n                  >\r\n                    {sub.status}\r\n                  </span>\r\n                </div>\r\n                <div className=\"space-y-1\">\r\n                  <p className=\"text-xs text-gray-400\">UserId{sub.user.id}</p>\r\n                  <p className=\"text-xs text-gray-400\">\r\n                    Email: {sub.user.email}\r\n                  </p>\r\n                  <p className=\"text-xs text-gray-400\">\r\n                    <span className=\"font-medium\">Plan:</span> {sub.plan.name}\r\n                  </p>\r\n                  <p className=\"text-xs text-gray-400\">\r\n                    <span className=\"font-medium\">Inicio:</span>{\" \"}\r\n                    {formatDate(sub.fechaInicio)}\r\n                  </p>\r\n                  <p className=\"text-xs text-gray-400\">\r\n                    <span className=\"font-medium\">Último pago:</span>{\" \"}\r\n                    {formatDate(sub.fechaUltimaPaga)}\r\n                  </p>\r\n                  <p className=\"text-xs text-gray-400\">\r\n                    <span className=\"font-medium\">Vencimiento:</span>{\" \"}\r\n                    {formatDate(sub.fechaVencimiento)}\r\n                  </p>\r\n                  {sub.mercadopagoSubscriptionId && (\r\n                    <p className=\"text-xs text-gray-400\">\r\n                      <span className=\"font-medium\">MP ID:</span>{\" \"}\r\n                      <span className=\"text-xs text-gray-400 truncate\">\r\n                        {sub.mercadopagoSubscriptionId}\r\n                      </span>\r\n                    </p>\r\n                  )}\r\n                  {sub.cancellationDate && (\r\n                    <p className=\"text-xs text-gray-400\">\r\n                      <span className=\"font-medium\">Cancelada:</span>{\" \"}\r\n                      {formatDate(sub.cancellationDate)}\r\n                    </p>\r\n                  )}\r\n                </div>\r\n                <div className=\"flex flex-wrap gap-2 mt-3\">\r\n                  {sub.status === SubscriptionStatus.ACTIVE && (\r\n                    <button\r\n                      onClick={() => handlePause(sub.id)}\r\n                      className=\"px-3 py-1 text-sm text-white bg-yellow-600 rounded hover:bg-yellow-700\"\r\n                    >\r\n                      Pausar\r\n                    </button>\r\n                  )}\r\n                  {sub.status === SubscriptionStatus.PAUSED && (\r\n                    <button\r\n                      onClick={() => handleActivate(sub.id)}\r\n                      className=\"px-3 py-1 text-sm text-white bg-green-600 rounded hover:bg-green-700\"\r\n                    >\r\n                      Activar\r\n                    </button>\r\n                  )}\r\n                  {sub.status === SubscriptionStatus.PENDING && (\r\n                    <>\r\n                      <button\r\n                        onClick={() => handleActivate(sub.id)}\r\n                        className=\"px-3 py-1 text-sm text-white bg-green-600 rounded hover:bg-green-700\"\r\n                      >\r\n                        Aprobar\r\n                      </button>\r\n                      <button\r\n                        onClick={() => handleCancel(sub.id)}\r\n                        className=\"px-3 py-1 text-sm text-white bg-red-600 rounded hover:bg-red-700\"\r\n                      >\r\n                        Cancelar\r\n                      </button>\r\n                    </>\r\n                  )}\r\n                  {(sub.status === SubscriptionStatus.ACTIVE ||\r\n                    sub.status === SubscriptionStatus.PAUSED) && (\r\n                    <button\r\n                      onClick={() => handleCancel(sub.id)}\r\n                      className=\"px-3 py-1 text-sm text-white bg-red-600 rounded hover:bg-red-700\"\r\n                    >\r\n                      Cancelar\r\n                    </button>\r\n                  )}\r\n                </div>\r\n              </div>\r\n            ))\r\n          ) : (\r\n            <div className=\"text-center text-gray-300 col-span-full\">\r\n              No se encontraron suscripciones.\r\n            </div>\r\n          )}\r\n        </div>\r\n      )}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default SuscripcionesTab;\r\n"],"names":[],"mappings":";;;;AACA;AAIA;;;AALA;;;AAOA,MAAM,mBAOD,CAAC,EACJ,mBAAmB,EACnB,wBAAwB,EACxB,kBAAkB,EACnB;;IACC,MAAM,CAAC,kBAAkB,oBAAoB,GAAG,CAAA,GAAA,6JAAA,CAAA,WAAQ,AAAD,EAAmB,EAAE;IAC5E,MAAM,CAAC,YAAY,cAAc,GAAG,CAAA,GAAA,6JAAA,CAAA,WAAQ,AAAD,EAAE;IAC7C,MAAM,CAAC,gBAAgB,kBAAkB,GACvC,CAAA,GAAA,6JAAA,CAAA,WAAQ,AAAD,EAA6B;IACtC,MAAM,CAAC,SAAS,WAAW,GAAG,CAAA,GAAA,6JAAA,CAAA,WAAQ,AAAD,EAAE;IAEvC,MAAM,qBAAqB;QACzB,IAAI;YACF,WAAW;YACX,MAAM,OAAO,MAAM;YACnB,MAAM,gBAAgB,KAAK,GAAG,CAAC,CAAC,eAAiB,CAAC;oBAChD,GAAG,YAAY;oBACf,iFAAiF;oBACjF,MAAM,aAAa,IAAI,GACnB;wBACE,IAAI,aAAa,IAAI,CAAC,EAAE;wBACxB,OAAO,aAAa,IAAI,CAAC,KAAK;oBAChC,IACA;wBAAE,IAAI;wBAAO,OAAO;oBAAM;gBAChC,CAAC;YACD,oBAAoB;QACtB,EAAE,OAAO,OAAO;YACd,QAAQ,KAAK,CAAC,iCAAiC;QACjD,SAAU;YACR,WAAW;QACb;IACF;IAEA,CAAA,GAAA,6JAAA,CAAA,YAAS,AAAD;sCAAE;YACR;QACF;qCAAG;QAAC;KAAoB;IAExB,MAAM,cAAc,OAAO;QACzB,IAAI;YACF,MAAM,yBAAyB,IAAI,0IAAA,CAAA,qBAAkB,CAAC,MAAM;YAC5D;QACF,EAAE,OAAO,OAAO;YACd,QAAQ,KAAK,CAAC,uCAAuC;QACvD;IACF;IAEA,MAAM,iBAAiB,OAAO;QAC5B,IAAI;YACF,MAAM,yBAAyB,IAAI,0IAAA,CAAA,qBAAkB,CAAC,MAAM;YAC5D;QACF,EAAE,OAAO,OAAO;YACd,QAAQ,KAAK,CAAC,oCAAoC;QACpD;IACF;IAEA,MAAM,eAAe,OAAO;QAC1B,IAAI;YACF,MAAM,mBAAmB,IAAI;YAC7B;QACF,EAAE,OAAO,OAAO;YACd,QAAQ,KAAK,CAAC,qCAAqC;QACrD;IACF;IAEA,oDAAoD;IACpD,MAAM,iBAAiB,CAAC;QACtB,OAAQ;YACN,KAAK,0IAAA,CAAA,qBAAkB,CAAC,MAAM;gBAC5B,OAAO;YACT,KAAK,0IAAA,CAAA,qBAAkB,CAAC,MAAM;gBAC5B,OAAO;YACT,KAAK,0IAAA,CAAA,qBAAkB,CAAC,SAAS;gBAC/B,OAAO;YACT,KAAK,0IAAA,CAAA,qBAAkB,CAAC,OAAO;gBAC7B,OAAO;YACT;gBACE,OAAO;QACX;IACF;IAEA,+BAA+B;IAC/B,MAAM,aAAa,CAAC;QAClB,IAAI,CAAC,MAAM,OAAO;QAClB,OAAO,IAAI,KAAK,MAAM,kBAAkB;IAC1C;IAEA,wBAAwB;IACxB,MAAM,wBAAwB,iBAAiB,MAAM,CAAC,CAAC;QACrD,MAAM,gBACJ,IAAI,EAAE,CAAC,WAAW,GAAG,QAAQ,CAAC,WAAW,WAAW,OACpD,IAAI,IAAI,CAAC,KAAK,CAAC,WAAW,GAAG,QAAQ,CAAC,WAAW,WAAW,OAC5D,IAAI,IAAI,CAAC,IAAI,CAAC,WAAW,GAAG,QAAQ,CAAC,WAAW,WAAW,OAC1D,IAAI,yBAAyB,IAC5B,IAAI,yBAAyB,CAC1B,WAAW,GACX,QAAQ,CAAC,WAAW,WAAW;QAEtC,IAAI,gBAAgB;QACpB,IAAI,mBAAmB,MAAM;YAC3B,gBAAgB,IAAI,MAAM,KAAK;QACjC;QAEA,OAAO,iBAAiB;IAC1B;IAEA,4CAA4C;IAC5C,MAAM,wBAAwB,CAAC;QAC7B,IAAI,mBAAmB,QAAQ;YAC7B,kBAAkB;QACpB,OAAO;YACL,kBAAkB;QACpB;IACF;IAEA,qBACE,6LAAC;;0BACC,6LAAC;gBAAG,WAAU;0BAAqC;;;;;;0BAGnD,6LAAC;gBAAI,WAAU;;kCACb,6LAAC;wBACC,MAAK;wBACL,aAAY;wBACZ,OAAO;wBACP,UAAU,CAAC,IAAM,cAAc,EAAE,MAAM,CAAC,KAAK;wBAC7C,WAAU;;;;;;kCAEZ,6LAAC;wBAAI,WAAU;kCACZ,OAAO,MAAM,CAAC,0IAAA,CAAA,qBAAkB,EAAE,GAAG,CAAC,CAAC,uBACtC,6LAAC;gCAEC,SAAS,IAAM,sBAAsB;gCACrC,WAAW,CAAC,uDAAuD,EACjE,mBAAmB,SACf,eAAe,UACf,eACJ;0CAED;+BARI;;;;;;;;;;;;;;;;YAcZ,wBACC,6LAAC;gBAAI,WAAU;0BACb,cAAA,6LAAC;oBAAI,WAAU;;;;;;;;;;qCAGjB,6LAAC;gBAAI,WAAU;0BACZ,sBAAsB,MAAM,GAAG,IAC9B,sBAAsB,GAAG,CAAC,CAAC,oBACzB,6LAAC;wBAAiB,WAAU;;0CAC1B,6LAAC;gCAAI,WAAU;;kDACb,6LAAC;wCAAE,WAAU;;4CAAwC;4CAC9C,IAAI,EAAE;;;;;;;kDAEb,6LAAC;wCACC,WAAW,CAAC,oDAAoD,EAAE,eAChE,IAAI,MAAM,GACT;kDAEF,IAAI,MAAM;;;;;;;;;;;;0CAGf,6LAAC;gCAAI,WAAU;;kDACb,6LAAC;wCAAE,WAAU;;4CAAwB;4CAAO,IAAI,IAAI,CAAC,EAAE;;;;;;;kDACvD,6LAAC;wCAAE,WAAU;;4CAAwB;4CAC3B,IAAI,IAAI,CAAC,KAAK;;;;;;;kDAExB,6LAAC;wCAAE,WAAU;;0DACX,6LAAC;gDAAK,WAAU;0DAAc;;;;;;4CAAY;4CAAE,IAAI,IAAI,CAAC,IAAI;;;;;;;kDAE3D,6LAAC;wCAAE,WAAU;;0DACX,6LAAC;gDAAK,WAAU;0DAAc;;;;;;4CAAe;4CAC5C,WAAW,IAAI,WAAW;;;;;;;kDAE7B,6LAAC;wCAAE,WAAU;;0DACX,6LAAC;gDAAK,WAAU;0DAAc;;;;;;4CAAoB;4CACjD,WAAW,IAAI,eAAe;;;;;;;kDAEjC,6LAAC;wCAAE,WAAU;;0DACX,6LAAC;gDAAK,WAAU;0DAAc;;;;;;4CAAoB;4CACjD,WAAW,IAAI,gBAAgB;;;;;;;oCAEjC,IAAI,yBAAyB,kBAC5B,6LAAC;wCAAE,WAAU;;0DACX,6LAAC;gDAAK,WAAU;0DAAc;;;;;;4CAAc;0DAC5C,6LAAC;gDAAK,WAAU;0DACb,IAAI,yBAAyB;;;;;;;;;;;;oCAInC,IAAI,gBAAgB,kBACnB,6LAAC;wCAAE,WAAU;;0DACX,6LAAC;gDAAK,WAAU;0DAAc;;;;;;4CAAkB;4CAC/C,WAAW,IAAI,gBAAgB;;;;;;;;;;;;;0CAItC,6LAAC;gCAAI,WAAU;;oCACZ,IAAI,MAAM,KAAK,0IAAA,CAAA,qBAAkB,CAAC,MAAM,kBACvC,6LAAC;wCACC,SAAS,IAAM,YAAY,IAAI,EAAE;wCACjC,WAAU;kDACX;;;;;;oCAIF,IAAI,MAAM,KAAK,0IAAA,CAAA,qBAAkB,CAAC,MAAM,kBACvC,6LAAC;wCACC,SAAS,IAAM,eAAe,IAAI,EAAE;wCACpC,WAAU;kDACX;;;;;;oCAIF,IAAI,MAAM,KAAK,0IAAA,CAAA,qBAAkB,CAAC,OAAO,kBACxC;;0DACE,6LAAC;gDACC,SAAS,IAAM,eAAe,IAAI,EAAE;gDACpC,WAAU;0DACX;;;;;;0DAGD,6LAAC;gDACC,SAAS,IAAM,aAAa,IAAI,EAAE;gDAClC,WAAU;0DACX;;;;;;;;oCAKJ,CAAC,IAAI,MAAM,KAAK,0IAAA,CAAA,qBAAkB,CAAC,MAAM,IACxC,IAAI,MAAM,KAAK,0IAAA,CAAA,qBAAkB,CAAC,MAAM,mBACxC,6LAAC;wCACC,SAAS,IAAM,aAAa,IAAI,EAAE;wCAClC,WAAU;kDACX;;;;;;;;;;;;;uBAtFG,IAAI,EAAE;;;;8CA8FlB,6LAAC;oBAAI,WAAU;8BAA0C;;;;;;;;;;;;;;;;;AAQrE;GArQM;KAAA;uCAuQS"}},
    {"offset": {"line": 621, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 627, "column": 0}, "map": {"version":3,"sources":["file://C%3A/Users/tomir/OneDrive/Desktop/AssetlyLandingPage/client/components/user.modal.tsx"],"sourcesContent":["\"use client\";\r\nimport { IUser } from \"@/interfaces/User.interface\";\r\n\r\nconst UserModal: React.FC<{\r\n  user: IUser;\r\n  onClose: () => void;\r\n  onEdit: (id: string) => void;\r\n}> = ({ user, onClose, onEdit }) => {\r\n  return (\r\n    <div className=\"fixed inset-0 z-50 flex items-center justify-center bg-black bg-opacity-50\">\r\n      <div className=\"w-11/12 p-6 bg-gray-800 rounded-lg shadow-lg md:w-1/2 lg:w-1/3\">\r\n        <h2 className=\"mb-4 text-2xl font-bold text-white\">\r\n          Detalles del Usuario\r\n        </h2>\r\n        <div className=\"space-y-2 text-gray-300\">\r\n          {Object.entries(user)\r\n            .filter(([key]) => key !== \"password\" && key !== \"isAdmin\")\r\n            .map(([key, value]) => (\r\n              <div key={key} className=\"flex\">\r\n                <span className=\"mr-2 font-bold\">{key}:</span>\r\n                <span>\r\n                  {typeof value === \"object\"\r\n                    ? JSON.stringify(value)\r\n                    : String(value)}\r\n                </span>\r\n              </div>\r\n            ))}\r\n        </div>\r\n        <div className=\"flex justify-end mt-4\">\r\n          <button\r\n            onClick={onClose}\r\n            className=\"px-4 py-2 text-white transition-all rounded bg-gradient-to-r from-purple-600 to-indigo-600 hover:from-purple-700 hover:to-indigo-700\"\r\n          >\r\n            Cerrar\r\n          </button>\r\n          <button\r\n            onClick={() => onEdit(user.id)}\r\n            className=\"px-4 py-2 ml-2 text-white transition-all rounded bg-gradient-to-r from-green-600 to-blue-600 hover:from-green-700 hover:to-blue-700\"\r\n          >\r\n            Modificar\r\n          </button>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default UserModal;\r\n"],"names":[],"mappings":";;;;AAAA;;AAGA,MAAM,YAID,CAAC,EAAE,IAAI,EAAE,OAAO,EAAE,MAAM,EAAE;IAC7B,qBACE,6LAAC;QAAI,WAAU;kBACb,cAAA,6LAAC;YAAI,WAAU;;8BACb,6LAAC;oBAAG,WAAU;8BAAqC;;;;;;8BAGnD,6LAAC;oBAAI,WAAU;8BACZ,OAAO,OAAO,CAAC,MACb,MAAM,CAAC,CAAC,CAAC,IAAI,GAAK,QAAQ,cAAc,QAAQ,WAChD,GAAG,CAAC,CAAC,CAAC,KAAK,MAAM,iBAChB,6LAAC;4BAAc,WAAU;;8CACvB,6LAAC;oCAAK,WAAU;;wCAAkB;wCAAI;;;;;;;8CACtC,6LAAC;8CACE,OAAO,UAAU,WACd,KAAK,SAAS,CAAC,SACf,OAAO;;;;;;;2BALL;;;;;;;;;;8BAUhB,6LAAC;oBAAI,WAAU;;sCACb,6LAAC;4BACC,SAAS;4BACT,WAAU;sCACX;;;;;;sCAGD,6LAAC;4BACC,SAAS,IAAM,OAAO,KAAK,EAAE;4BAC7B,WAAU;sCACX;;;;;;;;;;;;;;;;;;;;;;;AAOX;KA1CM;uCA4CS"}},
    {"offset": {"line": 727, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 733, "column": 0}, "map": {"version":3,"sources":["file://C%3A/Users/tomir/OneDrive/Desktop/AssetlyLandingPage/client/components/user.tab.tsx"],"sourcesContent":["\"use client\";\r\nimport { IPlan } from \"@/interfaces/Plan.interface\";\r\nimport { IUser } from \"@/interfaces/User.interface\";\r\nimport { useRouter } from \"next/navigation\";\r\nimport { useEffect, useState } from \"react\";\r\nimport UserModal from \"./user.modal\";\r\n\r\nconst UsuariosTab: React.FC<{\r\n  getUsers: () => Promise<IUser[]>;\r\n  planes: IPlan[];\r\n}> = ({ getUsers, planes }) => {\r\n  const router = useRouter();\r\n  const [allUsers, setAllUsers] = useState<IUser[]>([]);\r\n  const [searchTerm, setSearchTerm] = useState(\"\");\r\n  const [selectedPlan, setSelectedPlan] = useState<number | null>(null);\r\n  const [modalOpen, setModalOpen] = useState(false);\r\n  const [selectedUser, setSelectedUser] = useState<IUser | null>(null);\r\n\r\n  useEffect(() => {\r\n    const fetchUsers = async () => {\r\n      try {\r\n        const users = await getUsers();\r\n        setAllUsers(users);\r\n      } catch (error) {\r\n        console.error(\"Error fetching users:\", error);\r\n      }\r\n    };\r\n    fetchUsers();\r\n  }, [getUsers]);\r\n\r\n  const filteredUsers = allUsers.filter((user) => {\r\n    const matchesSearch =\r\n      user.name.toLowerCase().includes(searchTerm.toLowerCase()) ||\r\n      user.email.toLowerCase().includes(searchTerm.toLowerCase()) ||\r\n      user.id.toLowerCase().includes(searchTerm.toLowerCase());\r\n\r\n    let matchesPlan = true;\r\n    if (selectedPlan !== null) {\r\n      matchesPlan = user.subscripcion?.plan\r\n        ? user.subscripcion.plan.id === selectedPlan\r\n        : false;\r\n    }\r\n\r\n    return matchesSearch && matchesPlan;\r\n  });\r\n\r\n  // Permitir seleccionar solo un plan a la vez\r\n  const togglePlanSelection = (planId: number) => {\r\n    if (selectedPlan === planId) {\r\n      setSelectedPlan(null);\r\n    } else {\r\n      setSelectedPlan(planId);\r\n    }\r\n  };\r\n\r\n  const openModal = (user: IUser) => {\r\n    setSelectedUser(user);\r\n    setModalOpen(true);\r\n  };\r\n\r\n  const closeModal = () => {\r\n    setSelectedUser(null);\r\n    setModalOpen(false);\r\n  };\r\n\r\n  const redirectToEdit = (userId: string) => {\r\n    router.push(`/user/${userId}`);\r\n  };\r\n\r\n  return (\r\n    <div>\r\n      <div className=\"flex flex-col gap-4 mb-6 md:flex-row\">\r\n        <input\r\n          type=\"text\"\r\n          placeholder=\"Buscar por nombre, email o ID...\"\r\n          value={searchTerm}\r\n          onChange={(e) => setSearchTerm(e.target.value)}\r\n          className=\"flex-1 px-4 py-2 text-white bg-gray-700 rounded-lg\"\r\n        />\r\n        <div className=\"flex flex-wrap gap-4\">\r\n          {planes.map((plan) => (\r\n            <button\r\n              key={plan.id}\r\n              onClick={() => togglePlanSelection(plan.id)}\r\n              // Se añade una clase de ancho fijo (w-32) para que los botones tengan el mismo tamaño\r\n              className={`w-32 px-4 py-2 rounded-lg text-white transition-colors ${\r\n                selectedPlan === plan.id ? \"bg-indigo-600\" : \"bg-gray-700\"\r\n              }`}\r\n            >\r\n              {plan.name}\r\n            </button>\r\n          ))}\r\n        </div>\r\n      </div>\r\n\r\n      <div className=\"grid grid-cols-1 gap-4 md:grid-cols-2 lg:grid-cols-3\">\r\n        {filteredUsers.length > 0 ? (\r\n          filteredUsers.map((user) => (\r\n            <div\r\n              key={user.id}\r\n              onClick={() => openModal(user)}\r\n              className=\"relative p-4 transition-colors bg-gray-700 rounded-lg shadow cursor-pointer hover:bg-gray-600\"\r\n            >\r\n              <p className=\"text-lg font-bold text-white\">{user.name}</p>\r\n              {user.isAdmin && (\r\n                <div className=\"absolute flex items-center justify-center w-4 h-4 text-xs font-bold rounded-full top-2 right-2 bg-gradient-to-r from-indigo-600 via-purple-600 to-pink-400 text-neutral-950\">\r\n                  A\r\n                </div>\r\n              )}\r\n              <p className=\"text-gray-300\">{user.email}</p>\r\n              <p className=\"text-sm text-gray-400\">ID: {user.id}</p>\r\n            </div>\r\n          ))\r\n        ) : (\r\n          <div className=\"text-center text-gray-300 col-span-full\">\r\n            No se encontraron usuarios.\r\n          </div>\r\n        )}\r\n      </div>\r\n\r\n      {/* Modal de detalles del usuario */}\r\n      {modalOpen && selectedUser && (\r\n        <UserModal\r\n          user={selectedUser}\r\n          onClose={closeModal}\r\n          onEdit={redirectToEdit}\r\n        />\r\n      )}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default UsuariosTab;\r\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 924, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 930, "column": 0}, "map": {"version":3,"sources":["file://C%3A/Users/tomir/OneDrive/Desktop/AssetlyLandingPage/client/app/%28default%29/administracion/layout.tsx"],"sourcesContent":["\"use client\";\nimport PlanesTab from \"@/components/plan.tab\";\nimport SuscripcionesTab from \"@/components/sub.tab\";\nimport UsuariosTab from \"@/components/user.tab\";\nimport { AdminContext } from \"@/context/Administracion.context\";\nimport { SuscribeContext } from \"@/context/Suscribe.context\";\nimport { useContext, useState } from \"react\";\nconst AdminPanel: React.FC = () => {\n  const { planes } = useContext(SuscribeContext);\n  const {\n    getUsers,\n    getAllPlans,\n    deletePlan,\n    getAllSubscriptions,\n    updateSubscriptionStatus,\n    cancelSubscription,\n  } = useContext(AdminContext);\n  const [activeTab, setActiveTab] = useState<\n    \"usuarios\" | \"planes\" | \"suscripciones\"\n  >(\"usuarios\");\n\n  return (\n    <section className=\"w-11/12 px-4 py-3 mx-auto max-w-7xl\">\n      <h1 className=\"mb-4 text-3xl font-bold text-white\">\n        Panel de Administración\n      </h1>\n      <div className=\"flex gap-2 mb-6\">\n        <button\n          onClick={() => setActiveTab(\"usuarios\")}\n          className={`px-4 py-2 rounded ${\n            activeTab === \"usuarios\"\n              ? \"bg-indigo-600\"\n              : \"bg-gray-700 text-white\"\n          }`}\n        >\n          Usuarios\n        </button>\n        <button\n          onClick={() => setActiveTab(\"planes\")}\n          className={`px-4 py-2 rounded ${\n            activeTab === \"planes\" ? \"bg-indigo-600\" : \"bg-gray-700 text-white\"\n          }`}\n        >\n          Planes\n        </button>\n        <button\n          onClick={() => setActiveTab(\"suscripciones\")}\n          className={`px-4 py-2 rounded ${\n            activeTab === \"suscripciones\"\n              ? \"bg-indigo-600\"\n              : \"bg-gray-700 text-white\"\n          }`}\n        >\n          Suscripciones\n        </button>\n      </div>\n      {activeTab === \"usuarios\" && (\n        <UsuariosTab getUsers={getUsers} planes={planes} />\n      )}\n      {activeTab === \"planes\" && (\n        <PlanesTab getAllPlans={getAllPlans} deletePlan={deletePlan} />\n      )}\n      {activeTab === \"suscripciones\" && (\n        <SuscripcionesTab\n          getAllSubscriptions={getAllSubscriptions}\n          updateSubscriptionStatus={updateSubscriptionStatus}\n          cancelSubscription={cancelSubscription}\n        />\n      )}\n    </section>\n  );\n};\n\nexport default AdminPanel;\n"],"names":[],"mappings":";;;;AACA;AACA;AACA;AACA;AACA;AACA;;;AANA;;;;;;;AAOA,MAAM,aAAuB;;IAC3B,MAAM,EAAE,MAAM,EAAE,GAAG,CAAA,GAAA,6JAAA,CAAA,aAAU,AAAD,EAAE,kIAAA,CAAA,kBAAe;IAC7C,MAAM,EACJ,QAAQ,EACR,WAAW,EACX,UAAU,EACV,mBAAmB,EACnB,wBAAwB,EACxB,kBAAkB,EACnB,GAAG,CAAA,GAAA,6JAAA,CAAA,aAAU,AAAD,EAAE,wIAAA,CAAA,eAAY;IAC3B,MAAM,CAAC,WAAW,aAAa,GAAG,CAAA,GAAA,6JAAA,CAAA,WAAQ,AAAD,EAEvC;IAEF,qBACE,6LAAC;QAAQ,WAAU;;0BACjB,6LAAC;gBAAG,WAAU;0BAAqC;;;;;;0BAGnD,6LAAC;gBAAI,WAAU;;kCACb,6LAAC;wBACC,SAAS,IAAM,aAAa;wBAC5B,WAAW,CAAC,kBAAkB,EAC5B,cAAc,aACV,kBACA,0BACJ;kCACH;;;;;;kCAGD,6LAAC;wBACC,SAAS,IAAM,aAAa;wBAC5B,WAAW,CAAC,kBAAkB,EAC5B,cAAc,WAAW,kBAAkB,0BAC3C;kCACH;;;;;;kCAGD,6LAAC;wBACC,SAAS,IAAM,aAAa;wBAC5B,WAAW,CAAC,kBAAkB,EAC5B,cAAc,kBACV,kBACA,0BACJ;kCACH;;;;;;;;;;;;YAIF,cAAc,4BACb,6LAAC,6HAAA,CAAA,UAAW;gBAAC,UAAU;gBAAU,QAAQ;;;;;;YAE1C,cAAc,0BACb,6LAAC,6HAAA,CAAA,UAAS;gBAAC,aAAa;gBAAa,YAAY;;;;;;YAElD,cAAc,iCACb,6LAAC,4HAAA,CAAA,UAAgB;gBACf,qBAAqB;gBACrB,0BAA0B;gBAC1B,oBAAoB;;;;;;;;;;;;AAK9B;GAhEM;KAAA;uCAkES"}},
    {"offset": {"line": 1041, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 1051, "column": 0}, "map": {"version":3,"sources":["file://C%3A/Users/tomir/OneDrive/Desktop/AssetlyLandingPage/client/node_modules/next/navigation.js"],"sourcesContent":["module.exports = require('./dist/client/components/navigation')\n"],"names":[],"mappings":"AAAA,OAAO,OAAO","ignoreList":[0]}},
    {"offset": {"line": 1052, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}}]
}