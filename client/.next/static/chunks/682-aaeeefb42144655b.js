"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[682],{5682:(e,a,s)=>{s.r(a),s.d(a,{default:()=>v});var t=s(5155),l=s(2115),r=s(1455),n=s(4057);let i=(0,n.A)("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]),c=(0,n.A)("UserPen",[["path",{d:"M11.5 15H7a4 4 0 0 0-4 4v2",key:"15lzij"}],["path",{d:"M21.378 16.626a1 1 0 0 0-3.004-3.004l-4.01 4.012a2 2 0 0 0-.506.854l-.837 2.87a.5.5 0 0 0 .62.62l2.87-.837a2 2 0 0 0 .854-.506z",key:"1817ys"}],["circle",{cx:"10",cy:"7",r:"4",key:"e45bow"}]]);var o=s(6046),d=s(8173),x=s.n(d);let m=(0,n.A)("CaptionsOff",[["path",{d:"M10.5 5H19a2 2 0 0 1 2 2v8.5",key:"jqtk4d"}],["path",{d:"M17 11h-.5",key:"1961ue"}],["path",{d:"M19 19H5a2 2 0 0 1-2-2V7a2 2 0 0 1 2-2",key:"1keqsi"}],["path",{d:"m2 2 20 20",key:"1ooewy"}],["path",{d:"M7 11h4",key:"1o1z6v"}],["path",{d:"M7 15h2.5",key:"1ina1g"}]]),p=(0,n.A)("CircleCheckBig",[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]),h=(0,n.A)("CirclePause",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"10",x2:"10",y1:"15",y2:"9",key:"c1nkhi"}],["line",{x1:"14",x2:"14",y1:"15",y2:"9",key:"h65svq"}]]),g=(0,n.A)("CircleX",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]),u=(0,n.A)("NotebookPen",[["path",{d:"M13.4 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2v-7.4",key:"re6nr2"}],["path",{d:"M2 6h4",key:"aawbzj"}],["path",{d:"M2 10h4",key:"l0bgd4"}],["path",{d:"M2 14h4",key:"1gsvsf"}],["path",{d:"M2 18h4",key:"1bu2t1"}],["path",{d:"M21.378 5.626a1 1 0 1 0-3.004-3.004l-5.01 5.012a2 2 0 0 0-.506.854l-.837 2.87a.5.5 0 0 0 .62.62l2.87-.837a2 2 0 0 0 .854-.506z",key:"pqwjuv"}]]);var y=function(e){return e.ACTIVE="active",e.PAUSED="paused",e.CANCELLED="cancelled",e}({}),j=s(8232);let f=()=>{let{sub:e}=(0,l.useContext)(j.a);return e&&(0,t.jsx)("section",{className:"px-2 py-3 mx-auto max-w-7xl",children:(0,t.jsxs)("div",{className:"relative w-[75vw] mx-auto overflow-hidden bg-gray-800 shadow-2xl sm:px-6 rounded-2xl flex flex-col",children:[(0,t.jsxs)("div",{className:"relative flex flex-wrap items-center justify-between gap-3 px-4 py-6 md:flex-row",children:[(0,t.jsxs)("div",{className:"flex items-center gap-3",children:[(0,t.jsx)(x(),{href:"/",onClick:()=>{},className:"transition-transform transform hover:scale-110",children:(0,t.jsx)(m,{size:48,className:"text-red-400"})}),(0,t.jsxs)("div",{className:"flex flex-col",children:[(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)("h2",{className:"text-2xl font-bold text-transparent sm:text-4xl bg-clip-text bg-gradient-to-r from-indigo-400 via-purple-400 to-pink-400",children:e.plan.name}),e.status===y.ACTIVE?(0,t.jsx)(p,{className:"mt-1 ml-2 text-green-500"}):e.status===y.PAUSED?(0,t.jsx)(h,{className:"mt-1 ml-2 text-teal-500"}):(0,t.jsx)(g,{className:"mt-1 ml-2 text-red-500"})]}),(0,t.jsx)("p",{className:"text-sm text-indigo-200/65",children:e.id})]})]}),(0,t.jsx)("p",{className:"w-full text-xl font-bold text-transparent sm:text-2xl bg-clip-text bg-gradient-to-r from-indigo-400 via-purple-400 to-pink-400 md:text-right md:w-auto",children:e.plan.precio>0?"$".concat(e.plan.precio,"/m"):"Free"})]}),(0,t.jsxs)("div",{className:"p-4",children:[(0,t.jsxs)("div",{className:"grid grid-cols-1 gap-6 md:grid-cols-2",children:[(0,t.jsx)("div",{children:(0,t.jsxs)("p",{className:"block text-gray-300",children:[(0,t.jsx)("strong",{children:"Subscrito: "}),e.fechaInicio.toLocaleDateString()]})}),(0,t.jsx)("div",{children:(0,t.jsxs)("p",{className:"block text-gray-300",children:[(0,t.jsx)("strong",{children:"Ultima paga: "}),e.fechaUltimaPaga.toLocaleDateString()]})}),(0,t.jsx)("div",{children:(0,t.jsxs)("p",{className:"block text-gray-300",children:[(0,t.jsx)("strong",{children:"Vencimiento: "}),e.fechaVencimiento.toLocaleDateString()]})})]}),(0,t.jsx)("div",{className:"flex justify-end my-4",children:(0,t.jsx)(x(),{href:"/planes",children:(0,t.jsx)("button",{className:"transition-transform transform text-indigo-200/65 hover:scale-110",children:(0,t.jsx)(u,{size:35})})})})]})]})})},v=()=>{let{user:e,updateUser:a,signOut:s}=(0,l.useContext)(r.R),n=(0,o.useRouter)(),[d,m]=(0,l.useState)({email:"",company:"",password:"",telefono:"",name:""}),[p,h]=(0,l.useState)(!1);if((0,l.useEffect)(()=>{let a;return e?m({name:e.name||"",email:e.email||"",telefono:e.telefono||"",company:e.company||"",password:""}):a=setTimeout(()=>{null==n||n.push("/signin")},1e3),()=>{clearTimeout(a)}},[e,n]),!e)return null;let g=e=>{m({...d,[e.target.name]:e.target.value})},u=async s=>{s.preventDefault(),await a({...d,id:e.id}),h(!1)},y=()=>{h(!p)};return(0,t.jsxs)("section",{className:"px-2 py-3 mx-auto max-w-7xl",children:[(0,t.jsxs)("div",{className:"relative w-[75vw] mx-auto overflow-hidden bg-gray-800 shadow-2xl sm:px-6 rounded-2xl flex flex-col",children:[(0,t.jsxs)("div",{className:"relative flex flex-wrap items-center justify-between gap-3 px-4 py-6 md:flex-row",children:[(0,t.jsxs)("div",{className:"flex items-center gap-3",children:[(0,t.jsx)(x(),{href:"/",onClick:()=>{s()},className:"transition-transform transform hover:scale-110",children:(0,t.jsx)(i,{size:48,className:"text-red-400"})}),(0,t.jsxs)("div",{className:"flex flex-col",children:[(0,t.jsx)("h2",{className:"text-4xl font-bold text-transparent bg-clip-text bg-gradient-to-r from-indigo-400 via-purple-400 to-pink-400",children:e.name}),(0,t.jsx)("p",{className:"text-sm text-indigo-200/65",children:e.id})]})]}),(0,t.jsx)("p",{className:"w-full text-2xl font-bold text-transparent bg-clip-text bg-gradient-to-r from-indigo-400 via-purple-400 to-pink-400 md:text-right md:w-auto",children:e.company})]}),(null==e?void 0:e.isAdmin)&&(0,t.jsx)("div",{className:"absolute top-0 right-0 px-3 py-1 text-lg rounded-l-lg bg-gradient-to-r from-indigo-600 via-purple-600 to-pink-400 text-neutral-950",children:"Admin"}),(0,t.jsx)("div",{className:"p-4",children:p?(0,t.jsxs)("form",{onSubmit:u,children:[(0,t.jsxs)("div",{className:"grid grid-cols-1 gap-6 md:grid-cols-2",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-gray-300",children:"Nombre"}),(0,t.jsx)("input",{type:"text",name:"name",value:d.name,onChange:g,className:"w-full px-3 py-2 mt-1 text-white bg-gray-700 rounded-lg"})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-gray-300",children:"Email"}),(0,t.jsx)("input",{type:"email",name:"email",value:d.email,onChange:g,className:"w-full px-3 py-2 mt-1 text-white bg-gray-700 rounded-lg"})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-gray-300",children:"Tel\xe9fono"}),(0,t.jsx)("input",{type:"text",name:"telefono",value:d.telefono,onChange:g,className:"w-full px-3 py-2 mt-1 text-white bg-gray-700 rounded-lg"})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-gray-300",children:"Empresa"}),(0,t.jsx)("input",{type:"text",name:"company",value:d.company,onChange:g,className:"w-full px-3 py-2 mt-1 text-white bg-gray-700 rounded-lg"})]})]}),(0,t.jsxs)("div",{className:"mt-6",children:[(0,t.jsx)("label",{className:"block text-gray-300",children:"Contrase\xf1a (dejar en blanco para no cambiar)"}),(0,t.jsx)("input",{type:"password",name:"password",value:d.password,onChange:g,className:"w-full px-3 py-2 mt-1 text-white bg-gray-700 rounded-lg",placeholder:"********"})]}),(0,t.jsxs)("div",{className:"flex justify-between mt-4",children:[(0,t.jsx)("button",{type:"submit",className:"px-6 py-3 font-semibold text-white transition-transform transform rounded-lg shadow-md hover:scale-110 bg-gradient-to-r from-purple-600 to-indigo-600 hover:from-purple-700 hover:to-indigo-700",children:"Guardar Cambios"}),(0,t.jsx)("button",{type:"button",onClick:y,className:"px-4 py-2 text-white transition-transform transform bg-gray-600 rounded-lg hover:bg-gray-700 hover:scale-110",children:"Cancelar"})]})]}):(0,t.jsxs)("div",{children:[(0,t.jsxs)("div",{className:"grid grid-cols-1 gap-6 md:grid-cols-2",children:[(0,t.jsx)("div",{children:(0,t.jsxs)("p",{className:"block text-gray-300",children:[(0,t.jsx)("strong",{children:"Nombre:"})," ",d.name]})}),(0,t.jsx)("div",{children:(0,t.jsxs)("p",{className:"block text-gray-300",children:[(0,t.jsx)("strong",{children:"Email:"})," ",d.email]})}),(0,t.jsx)("div",{children:(0,t.jsxs)("p",{className:"block text-gray-300",children:[(0,t.jsx)("strong",{children:"Tel\xe9fono:"})," ",d.telefono]})}),(0,t.jsx)("div",{children:(0,t.jsxs)("p",{className:"block text-gray-300",children:[(0,t.jsx)("strong",{children:"Empresa:"})," ",d.company]})})]}),(0,t.jsx)("div",{className:"flex justify-end mt-4",children:(0,t.jsx)("button",{onClick:y,className:"transition-transform transform text-indigo-200/65 hover:scale-110",children:(0,t.jsx)(c,{size:35})})})]})})]}),(0,t.jsx)(f,{})]})}},6046:(e,a,s)=>{var t=s(6658);s.o(t,"useRouter")&&s.d(a,{useRouter:function(){return t.useRouter}})}}]);