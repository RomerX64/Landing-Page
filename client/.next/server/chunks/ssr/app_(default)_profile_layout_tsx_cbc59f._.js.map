{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 7, "column": 0}, "map": {"version":3,"sources":["file://C%3A/Users/tomir/OneDrive/Desktop/AssetlyLandingPage/client/app/%28default%29/profile/layout.tsx"],"sourcesContent":["\"use client\";\r\nimport React, { useContext, useEffect, useState } from \"react\";\r\nimport { UserContext } from \"@/context/user.context\";\r\nimport { User as UserIcon } from \"lucide-react\";\r\nimport { useRouter } from \"next/router\";\r\n\r\nconst UserProfile: React.FC = () => {\r\n  const { user, updateUser, signOut } = useContext(UserContext);\r\n  const router = useRouter();\r\n  const [formData, setFormData] = useState({\r\n    email: \"\",\r\n    company: \"\",\r\n    password: \"\",\r\n    telefono: \"\",\r\n    username: \"\",\r\n  });\r\n  const [isEditing, setIsEditing] = useState(false); // Controla si los campos están en modo de edición\r\n\r\n  useEffect(() => {\r\n    if (!user) {\r\n      router?.push(\"/signin\");\r\n    } else {\r\n      setFormData({\r\n        username: user.username || \"\",\r\n        email: user.email || \"\",\r\n        telefono: user.telefono || \"\",\r\n        company: user.company || \"\",\r\n        password: \"\",\r\n      });\r\n    }\r\n  }, [user, router]);\r\n\r\n  if (!user) return null;\r\n\r\n  const handleChange = (e: React.ChangeEvent<HTMLInputElement>) => {\r\n    setFormData({ ...formData, [e.target.name]: e.target.value });\r\n  };\r\n\r\n  const handleSubmit = async (e: React.FormEvent) => {\r\n    e.preventDefault();\r\n    await updateUser({ ...formData, id: user.id });\r\n    setIsEditing(false); // Deshabilitar el modo de edición al guardar los cambios\r\n  };\r\n\r\n  const handleSignOut = () => {\r\n    signOut();\r\n  };\r\n\r\n  const toggleEditMode = () => {\r\n    setIsEditing(!isEditing); // Cambiar entre editar y vista solo lectura\r\n  };\r\n\r\n  return (\r\n    <section className=\"px-2 py-3 mx-auto max-w-7xl\">\r\n      <div className=\"relative w-[75vw] mx-auto overflow-hidden bg-gray-800 shadow-2xl sm:px-6 rounded-2xl flex flex-col\">\r\n        {/* Cabecera con icono, nombre, id y empresa */}\r\n        <div className=\"relative flex flex-wrap items-center justify-between gap-3 px-4 py-6 md:flex-row\">\r\n          <div className=\"flex items-center gap-3\">\r\n            <UserIcon size={48} className=\"text-indigo-200/65 \" />\r\n            <div className=\"flex flex-col\">\r\n              <h2 className=\"text-4xl font-bold text-transparent bg-clip-text bg-gradient-to-r from-indigo-400 via-purple-400 to-pink-400\">\r\n                {user.username}\r\n              </h2>\r\n              <p className=\"text-sm text-indigo-200/65\">{user.id}</p>\r\n            </div>\r\n          </div>\r\n          <p className=\"w-full text-2xl font-bold text-transparent bg-clip-text bg-gradient-to-r from-indigo-400 via-purple-400 to-pink-400 md:text-right md:w-auto\">\r\n            {user.company}\r\n          </p>\r\n        </div>\r\n\r\n        {/* Botones de acciones */}\r\n        <div className=\"flex justify-between p-4\">\r\n          <button\r\n            onClick={toggleEditMode}\r\n            className=\"px-6 py-3 font-semibold text-white transition-all duration-300 rounded-lg shadow-md bg-gradient-to-r from-blue-600 to-blue-700 hover:from-blue-700 hover:to-blue-800\"\r\n          >\r\n            {isEditing ? \"Cancelar Edición\" : \"Editar Perfil\"}\r\n          </button>\r\n          <button\r\n            onClick={handleSignOut}\r\n            className=\"px-6 py-3 font-semibold text-white transition-all duration-300 rounded-lg shadow-md bg-gradient-to-r from-red-600 to-red-700 hover:from-red-700 hover:to-red-800\"\r\n          >\r\n            Deslogearse\r\n          </button>\r\n        </div>\r\n\r\n        {/* Formulario de edición */}\r\n        {isEditing && (\r\n          <form onSubmit={handleSubmit} className=\"p-4\">\r\n            <div className=\"grid grid-cols-1 gap-6 md:grid-cols-2\">\r\n              <div>\r\n                <label className=\"block text-gray-300\">Nombre</label>\r\n                <input\r\n                  type=\"text\"\r\n                  name=\"username\"\r\n                  value={formData.username}\r\n                  onChange={handleChange}\r\n                  className=\"w-full px-3 py-2 mt-1 text-white bg-gray-700 rounded-lg\"\r\n                />\r\n              </div>\r\n              <div>\r\n                <label className=\"block text-gray-300\">Email</label>\r\n                <input\r\n                  type=\"email\"\r\n                  name=\"email\"\r\n                  value={formData.email}\r\n                  onChange={handleChange}\r\n                  className=\"w-full px-3 py-2 mt-1 text-white bg-gray-700 rounded-lg\"\r\n                />\r\n              </div>\r\n              <div>\r\n                <label className=\"block text-gray-300\">Teléfono</label>\r\n                <input\r\n                  type=\"text\"\r\n                  name=\"telefono\"\r\n                  value={formData.telefono}\r\n                  onChange={handleChange}\r\n                  className=\"w-full px-3 py-2 mt-1 text-white bg-gray-700 rounded-lg\"\r\n                />\r\n              </div>\r\n              <div>\r\n                <label className=\"block text-gray-300\">Empresa</label>\r\n                <input\r\n                  type=\"text\"\r\n                  name=\"company\"\r\n                  value={formData.company}\r\n                  onChange={handleChange}\r\n                  className=\"w-full px-3 py-2 mt-1 text-white bg-gray-700 rounded-lg\"\r\n                />\r\n              </div>\r\n            </div>\r\n            <div className=\"mt-6\">\r\n              <label className=\"block text-gray-300\">\r\n                Contraseña (dejar en blanco para no cambiar)\r\n              </label>\r\n              <input\r\n                type=\"password\"\r\n                name=\"password\"\r\n                value={formData.password}\r\n                onChange={handleChange}\r\n                className=\"w-full px-3 py-2 mt-1 text-white bg-gray-700 rounded-lg\"\r\n                placeholder=\"********\"\r\n              />\r\n            </div>\r\n            <div className=\"flex justify-end mt-4\">\r\n              <button\r\n                type=\"submit\"\r\n                className=\"px-6 py-3 font-semibold text-white transition-all duration-300 rounded-lg shadow-md bg-gradient-to-r from-purple-600 to-indigo-600 hover:from-purple-700 hover:to-indigo-700\"\r\n              >\r\n                Guardar Cambios\r\n              </button>\r\n            </div>\r\n          </form>\r\n        )}\r\n      </div>\r\n    </section>\r\n  );\r\n};\r\n\r\nexport default UserProfile;\r\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 345, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}}]
}