exports.id=543,exports.ids=[543],exports.modules={54647:()=>{},51761:(e,r,t)=>{Promise.resolve().then(t.bind(t,19611))},42033:(e,r,t)=>{Promise.resolve().then(t.bind(t,53913))},3601:(e,r,t)=>{Promise.resolve().then(t.t.bind(t,13219,23)),Promise.resolve().then(t.t.bind(t,34863,23)),Promise.resolve().then(t.t.bind(t,25155,23)),Promise.resolve().then(t.t.bind(t,40802,23)),Promise.resolve().then(t.t.bind(t,9350,23)),Promise.resolve().then(t.t.bind(t,48530,23)),Promise.resolve().then(t.t.bind(t,88921,23))},68753:(e,r,t)=>{Promise.resolve().then(t.t.bind(t,66959,23)),Promise.resolve().then(t.t.bind(t,33875,23)),Promise.resolve().then(t.t.bind(t,88903,23)),Promise.resolve().then(t.t.bind(t,57174,23)),Promise.resolve().then(t.t.bind(t,84178,23)),Promise.resolve().then(t.t.bind(t,87190,23)),Promise.resolve().then(t.t.bind(t,61365,23))},11540:(e,r,t)=>{"use strict";t.d(r,{A:()=>a});let s=t(85668).A.create({baseURL:"http://localhost:3001",headers:{"Content-Type":"application/json"}});s.interceptors.request.use(e=>e,e=>Promise.reject(e)),s.interceptors.response.use(e=>e,e=>Promise.reject(e));let a=s},53913:(e,r,t)=>{"use strict";t.r(r),t.d(r,{default:()=>x});var s=t(45512);t(36411);var a=t(89894),o=t.n(a),n=t(5619),l=t.n(n),i=t(28531),c=t.n(i),u=t(58009),d=t(70919),g=t(42092),m=t(28790);function b(){let{user:e}=(0,u.useContext)(d.R);return(0,s.jsx)("header",{className:"z-30 w-full mt-2 md:mt-5",children:(0,s.jsx)("div",{className:"max-w-6xl px-4 mx-auto sm:px-6",children:(0,s.jsxs)("div",{className:"relative flex h-14 items-center justify-between gap-3 rounded-2xl bg-gray-900/90 px-3 before:pointer-events-none before:absolute before:inset-0 before:rounded-[inherit] before:border before:border-transparent  before:[background:linear-gradient(to_right,theme(colors.gray.800),theme(colors.gray.700),theme(colors.gray.800))_border-box]  before:[mask-composite:exclude_!important] before:[mask:linear-gradient(white_0_0)_padding-box,_linear-gradient(white_0_0)]  after:absolute after:inset-0 after:-z-10 after:backdrop-blur-sm",children:[(0,s.jsx)(c(),{href:"/",className:"inline-block",children:(0,s.jsx)("img",{src:"/images/logo.png",alt:"Logo",className:"ml-4 h-[35px] w-auto max-w-[200px] transition-transform duration-300 ease-in-out hover:scale-110"})}),(0,s.jsx)("ul",{className:"flex items-center justify-end flex-1 gap-3",children:e?(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)("li",{className:"flex items-center justify-center w-8 h-8 text-gray-200 transition-transform duration-300 ease-in-out border rounded-full border-gray-700/50 bg-gray-800/65 hover:scale-110",children:(0,s.jsx)(c(),{href:"/profile",className:"text-gray-300 hover:text-white",children:(0,s.jsx)(g.A,{size:24})})}),e.isAdmin&&(0,s.jsx)("li",{className:"flex items-center justify-center w-8 h-8 text-gray-200 transition-transform duration-300 ease-in-out border rounded-full border-gray-700/50 bg-gray-800/65 hover:scale-110",children:(0,s.jsx)(c(),{href:"/administracion",className:"text-gray-300 hover:text-white",children:(0,s.jsx)(m.A,{size:24})})})]}):(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)("li",{children:(0,s.jsx)(c(),{href:"/signin",className:"btn-sm relative bg-gradient-to-b from-gray-800 to-gray-800/60 bg-[length:100%_100%] bg-[bottom] py-[5px] text-gray-300 before:pointer-events-none before:absolute before:inset-0 before:rounded-[inherit] before:border before:border-transparent before:[background:linear-gradient(to_right,theme(colors.gray.800),theme(colors.gray.700),theme(colors.gray.800))_border-box] before:[mask-composite:exclude_!important] before:[mask:linear-gradient(white_0_0)_padding-box,_linear-gradient(white_0_0)] hover:bg-[length:100%_150%] transition-transform duration-300 ease-in-out hover:scale-105",children:"Sign In"})}),(0,s.jsx)("li",{children:(0,s.jsx)(c(),{href:"/signup",className:"btn-sm bg-gradient-to-t from-indigo-600 to-indigo-500 bg-[length:100%_100%] bg-[bottom] py-[5px] text-white shadow-[inset_0px_1px_0px_0px_theme(colors.white/.16)] hover:bg-[length:100%_150%] transition-transform duration-300 ease-in-out hover:scale-105",children:"Register"})})]})})]})})})}var h=t(37793),f=t(16607),p=t(90993),y=t(58559);function x({children:e}){return(0,y.Lz)("TEST-450aba78-55dc-4623-9975-99be4b21f666"),(0,s.jsx)("html",{lang:"en",children:(0,s.jsx)(p.SessionProvider,{children:(0,s.jsx)(d.v,{children:(0,s.jsx)(h.X,{children:(0,s.jsx)(f.g,{children:(0,s.jsx)("body",{className:`${o().variable} ${l().variable} bg-gray-950 font-inter text-base text-gray-200 antialiased`,children:(0,s.jsxs)("div",{className:"flex min-h-screen flex-col overflow-hidden supports-[overflow:clip]:overflow-clip",children:[(0,s.jsx)(b,{}),e]})})})})})})})}},37793:(e,r,t)=>{"use strict";t.d(r,{X:()=>i,t:()=>l});var s=t(45512),a=t(58009),o=t(11540),n=t(59029);let l=(0,a.createContext)({getUsers:async()=>{throw Error("Not implemented")},getUsersSubscribed:async()=>{throw Error("Not implemented")},getUsersSubscribedAt:async e=>{throw Error("Not implemented")}}),i=({children:e})=>{let r=async()=>{let e=localStorage.getItem("admin_users");if(e)return console.log("Cargando usuarios desde localStorage..."),JSON.parse(e);let{data:r,error:t}=await (0,n.$)(o.A.get("/users/users"));if(t||!r)throw Error(t.message||"Hubo un error al iniciar sesi\xf3n.");return localStorage.setItem("admin_users",JSON.stringify(r.data)),r.data},t=async()=>{let e=localStorage.getItem("admin_usersSubscribed");if(e)return console.log("Cargando usuarios suscritos desde localStorage..."),JSON.parse(e);let{data:r,error:t}=await (0,n.$)(o.A.get("/users/getUsersSubscribed"));if(t||!r)throw Error(t.message||"Hubo un error al iniciar sesi\xf3n.");return localStorage.setItem("admin_usersSubscribed",JSON.stringify(r.data)),r.data},a=async e=>{let r=`admin_usersSubscribed_plan_${e}`,t=localStorage.getItem(r);if(t)return console.log(`Cargando usuarios suscritos al plan ${e} desde localStorage...`),JSON.parse(t);let{data:s,error:a}=await (0,n.$)(o.A.get(`/users/getUsersSubscribed/${e}`));if(a||!s)throw Error(a.message||"Hubo un error al iniciar sesi\xf3n.");return localStorage.setItem(r,JSON.stringify(s.data)),s.data};return(0,s.jsx)(l.Provider,{value:{getUsers:r,getUsersSubscribed:t,getUsersSubscribedAt:a},children:e})}},16607:(e,r,t)=>{"use strict";t.d(r,{a:()=>c,g:()=>u});var s=t(45512),a=t(58009),o=t(58559),n=t(11540),l=t(59029),i=t(70919);let c=(0,a.createContext)({sub:null,planes:[],viewPlan:null,suscribirse:async()=>{},desuscribirse:async()=>{},selectPlan:async()=>null,changePlan:()=>{}}),u=({children:e})=>{let{user:r}=(0,a.useContext)(i.R),[t,u]=(0,a.useState)(null),[d,g]=(0,a.useState)([]),[m,b]=(0,a.useState)(null);(0,a.useEffect)(()=>{(0,o.Lz)("TEST-450aba78-55dc-4623-9975-99be4b21f666")},[]);let h=(0,a.useCallback)(async()=>{try{let e=localStorage.getItem("planes");if(e){let r=JSON.parse(e);g(r),console.log("Planes cargados desde LocalStorage");return}let{data:r,error:t}=await (0,l.$)(n.A.get("/users/planes"));if(t||!r?.data){console.error("Error al obtener planes:",t||"No se retornaron datos");return}let s=r.data;g(s),localStorage.setItem("planes",JSON.stringify(s))}catch(e){console.error("Error en getPlanes:",e)}},[]),f=(0,a.useCallback)(async(e,t)=>{try{let{data:s,error:a}=await (0,l.$)(n.A.post("/subscriptions",{planId:e,userEmail:r?.email,paymentMethodToken:t}));if(a||!s?.data?.subscription){console.error("Error al suscribirse:",a||"No se retornaron datos");return}let o=s.data.subscription;u(o),localStorage.setItem("subscripcion",JSON.stringify(o))}catch(e){console.error("Excepci\xf3n en suscribirse:",e)}},[r]),p=(0,a.useCallback)(async()=>{if(t)try{let{data:e,error:r}=await (0,l.$)(n.A.post("/subscriptions/cancel",{subscriptionId:t.mercadopagoSubscriptionId,cancellationReason:"Cancelaci\xf3n solicitada por el usuario"}));if(r||!e?.data?.subscription){console.error("Error al desuscribirse:",r||"No se retornaron datos");return}u(null),localStorage.removeItem("subscripcion")}catch(e){console.error("Excepci\xf3n en desuscribirse:",e)}},[t]),y=(0,a.useCallback)(async e=>{0===d.length&&await h();let r=d.find(r=>r.id===e);return r?(b(r),localStorage.setItem("viewPlan",JSON.stringify(r)),r):(console.error("Plan no encontrado"),null)},[d,h]),x=(0,a.useCallback)(e=>{if(!m||0===d.length)return;let r=d.findIndex(e=>e.id===m.id);if(-1===r)return;let t="next"===e?r+1:r-1;t<0&&(t=d.length-1),t>=d.length&&(t=0);let s=d[t];b(s),localStorage.setItem("viewPlan",JSON.stringify(s))},[d,m]);(0,a.useEffect)(()=>{let e=localStorage.getItem("subscripcion");e&&u(JSON.parse(e)),h()},[r,h]),(0,a.useEffect)(()=>{if(d.length>0&&!m){let e=localStorage.getItem("viewPlan");e?b(JSON.parse(e)):b(d.find(e=>!0===e.popular)||d[0])}},[d,m]);let w=(0,a.useMemo)(()=>({sub:t,planes:d,viewPlan:m,suscribirse:f,desuscribirse:p,selectPlan:y,changePlan:x}),[t,d,m,f,p,y,x]);return(0,s.jsx)(c.Provider,{value:w,children:e})}},70919:(e,r,t)=>{"use strict";t.d(r,{R:()=>i,v:()=>c});var s=t(45512),a=t(58009),o=t(11540),n=t(59029),l=t(90993);let i=(0,a.createContext)({token:"",user:null,signInO:async()=>{throw Error("Not implemented")},signUp:async()=>{throw Error("Not implemented")},deleteUser:async()=>{throw Error("Not implemented")},mailIsValid:async()=>{throw Error("Not implemented")},updateUser:async()=>{throw Error("Not implemented")},signOut:async()=>{throw Error("Not implemented")},signInWithGoogle:async()=>{throw Error("Not implemented")},signUpWithGoogle:async()=>{throw Error("Not implemented")},requestResetPassword:async()=>{throw Error("Not implemented")},resetPassword:async()=>{throw Error("Not implemented")}}),c=({children:e})=>{let{data:r}=(0,l.useSession)(),[t,c]=(0,a.useState)(null),[u,d]=(0,a.useState)(""),[g,m]=(0,a.useState)(!1);(0,a.useEffect)(()=>{if(g)return;let e=localStorage.getItem("token"),t=localStorage.getItem("user");if(e&&d(e),t)try{c(JSON.parse(t))}catch(e){console.error("Error al parsear el usuario del localStorage",e)}if(r?.user){let{email:e,name:t}=r.user;b(e,t)}},[r,g]);let b=(0,a.useCallback)(async(e,r)=>{try{let{data:t,error:s}=await (0,n.$)(o.A.get(`users/email/get/${e}`));if(s)return console.warn("Error al consultar existencia del usuario:",s.message),null;if(t?.data){let{data:r,error:t}=await (0,n.$)(o.A.get(`/users/get/${e}`));if(t||!r)return console.log("Error al traer el usuario:",t?.message),null;return c(r.data.User),d(r.data.token),localStorage.setItem("token",r.data.token),localStorage.setItem("user",JSON.stringify(r.data)),r.data}let{data:a,error:l}=await (0,n.$)(o.A.post("/users/crearUser/google",{email:e,name:r}));if(l||!a)return console.log("Error al crear el usuario:",l?.message),null;return c(a.data),localStorage.setItem("user",JSON.stringify(a.data)),a.data}catch(e){return console.error("Error en el proceso de registro:",e),null}},[]),h=(0,a.useCallback)(async e=>{let{data:r,error:t}=await (0,n.$)(o.A.post("/users/signIn",e));if(t||!r)throw Error(t.message||"Hubo un error al iniciar sesi\xf3n.");let{User:s,token:a}=r?.data||{};if(!s||!a)throw Error("Los datos de autenticaci\xf3n son inv\xe1lidos.");return d(a),c(s),localStorage.setItem("token",a),localStorage.setItem("user",JSON.stringify(s)),s},[]),f=(0,a.useCallback)(async e=>{let{data:r,error:t}=await (0,n.$)(o.A.post("/users/signUp",e));if(t||!r)throw Error(t.message||"Hubo un error al registrarse.");let{User:s,token:a}=r.data;return d(a),c(s),localStorage.setItem("token",a),localStorage.setItem("user",JSON.stringify(s)),s},[]),p=(0,a.useCallback)(async e=>{let{data:r,error:t}=await (0,n.$)(o.A.delete("/users/user",{data:e}));if(t||!r)throw Error(t.message||"Hubo un error al eliminar el usuario.");let s=r.data;return d(""),c(null),localStorage.removeItem("token"),localStorage.removeItem("user"),s},[]),y=(0,a.useCallback)(async e=>{try{return(await o.A.get(`/users/email/${e}`)).data}catch(e){return!1}},[]),x=(0,a.useCallback)(async e=>{if(!t?.id)throw Error("El usuario no est\xe1 autenticado.");let{data:r,error:s}=await (0,n.$)(o.A.post("/users/update",{...e,id:t.id}));if(s||!r)throw Error(s.message||"Hubo un error al actualizar el usuario.");let{User:a,token:l}=r.data;return d(l),c(a),localStorage.setItem("token",l),localStorage.setItem("user",JSON.stringify(a)),a},[t]),w=(0,a.useCallback)(async()=>{await (0,l.signOut)({redirect:!1}),d(""),c(null),localStorage.removeItem("token"),localStorage.removeItem("user"),m(!0)},[]),S=(0,a.useCallback)(async()=>{try{await (0,l.signIn)("google",{callbackUrl:"/"});let e=await (0,l.getSession)();if(!e||!e.user)throw Error("No se pudo obtener la sesi\xf3n del usuario.");let{email:r,name:t}=e.user;return b(r,t)}catch(e){return console.error("Error en signInWithGoogle:",e),null}},[b]),v=(0,a.useCallback)(async()=>{try{await (0,l.signIn)("google",{callbackUrl:"/"});let e=await (0,l.getSession)();if(!e||!e.user)throw Error("No se pudo obtener la sesi\xf3n del usuario.");let{email:r,name:t}=e.user;return b(r,t)}catch(e){return console.error("Error en signUpWithGoogle:",e),null}},[b]),E=(0,a.useCallback)(async e=>{let{data:r,error:t}=await (0,n.$)(o.A.post("/users/request-reset-password",{email:e}));if(t||!r)throw Error(t.message||"Error al solicitar reset de contrase\xf1a");return r.data},[]),N=(0,a.useCallback)(async(e,r)=>{let{data:t,error:s}=await (0,n.$)(o.A.post("/users/reset-password",{token:e,newPassword:r}));if(s||!t)throw Error(s.message||"Error al resetear la contrase\xf1a");return t.data},[]),k=(0,a.useMemo)(()=>({token:u,user:t,signInO:h,signUp:f,deleteUser:p,mailIsValid:y,updateUser:x,signOut:w,signInWithGoogle:S,signUpWithGoogle:v,requestResetPassword:E,resetPassword:N}),[u,t,h,f,p,y,x,w,S,v,E,N]);return(0,s.jsx)(i.Provider,{value:k,children:e})}},59029:(e,r,t)=>{"use strict";t.d(r,{$:()=>s});let s=async e=>{try{return{data:await e}}catch(e){return console.error("Error en handleAsync:",e),{error:e.response?e.response.data:{message:e.message}}}}},19611:(e,r,t)=>{"use strict";t.r(r),t.d(r,{default:()=>s});let s=(0,t(46760).registerClientReference)(function(){throw Error("Attempted to call the default export of \"C:\\\\Users\\\\tomir\\\\OneDrive\\\\Desktop\\\\AssetlyLandingPage\\\\client\\\\app\\\\layout.tsx\" from the server, but it's on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"C:\\Users\\tomir\\OneDrive\\Desktop\\AssetlyLandingPage\\client\\app\\layout.tsx","default")},36411:()=>{}};